import{a as p,u as x,r as m,j as e}from"./react-vendor-C_ls207L.js";import{u as g}from"./usePlanningData-B1SNKOR8.js";import{u as y}from"./index-zctVBz0Z.js";import{F as j}from"./FormBox-Dl2qNixC.js";import{S as w}from"./StandardLayout-CHsFjCWf.js";import{P as n}from"./PrimaryButton-BzVl43HT.js";import"./vendor-DeJPPs1q.js";import"./sanity-BS235U2J.js";import"./amplify-core-Blotw2Bg.js";import"./stripe-CN_WJsnY.js";import"./PageWrapper-CRYaw3_L.js";import"./Footer-B_S_3MWt.js";const N=[{iconSrc:"/Picture/LP-Note-Write.svg",altText:"Plan and Update Icon",title:"Plan with Confidence",text:" Create and revisit your farewell anytime. Your life may change — your legacy can grow with it."},{iconSrc:"/Picture/email.svg",altText:"Share Icon",title:"Share with Clarity",text:"Make your wishes known, so the people you love don’t have to guess — or carry the burden alone."}],B=()=>{var l;const r=p(),d=x(),{isAuthenticated:o}=y(),{formData:a}=g(),c=((l=d.state)==null?void 0:l.isNewUser)||localStorage.getItem("isNewUser")==="true",t=!!(a&&(a._metadata&&a._metadata.lastVisitedStep||a.basicInformation&&Object.keys(a.basicInformation).length>0));m.useEffect(()=>{console.log("WelcomeScreen mounted, current auth state:",o,"isReturningUser:",t)},[o,t]),m.useEffect(()=>{c&&(localStorage.removeItem("isNewUser"),r("/basic-information",{replace:!0}))},[c,r]);const u=()=>{r("/basic-information")},h=()=>{var i;const s=((i=a._metadata)==null?void 0:i.lastVisitedStep)||"/basic-information";r(s)},f=()=>{window.localStorage.removeItem("farewell-planning-data"),r("/basic-information")};return e.jsx(w,{title:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"h1",children:t?"Welcome":"Your"})," ",e.jsx("span",{className:"h1b",children:t?"back!":"farewell"})," ",e.jsx("span",{className:"h1",children:t?"":"is more than a will"})]}),subtitle:e.jsx("span",{className:"h1sub",children:t?"We found your existing farewell plan. What would you like to do?":"We're here to shape your legacy — your voice, your way."}),children:e.jsxs(j,{className:"standard-formbox",children:[e.jsx("div",{className:"welcome-features",children:N.map((s,i)=>e.jsxs("div",{className:"feature-item",children:[e.jsx("div",{className:"feature-icon-container",children:e.jsx("img",{src:s.iconSrc,alt:s.altText,className:"feature-icon"})}),e.jsxs("div",{className:"feature-text-container",children:[e.jsx("h3",{className:"feature-title",children:s.title}),e.jsx("p",{className:"feature-description",children:s.text})]})]},i))}),e.jsx("div",{className:"invite-primary-button",style:{display:"flex",justifyContent:"center",gap:"1rem"},children:t?e.jsxs(e.Fragment,{children:[e.jsx(n,{onClick:h,children:"Resume Planning"}),e.jsx(n,{onClick:f,style:{background:"#fff",color:"#333",border:"2px solid #ccc"},children:"Start Fresh"})]}):e.jsx(n,{onClick:u,children:"Start Planning"})})]})})};export{B as default};
