import{a as P,u as j,r as v,j as t}from"./react-vendor-C_ls207L.js";import{P as C}from"./PlanningLayout-Dy-zrQMn.js";import{C as k}from"./ChoiceCard-DvIT_Lgs.js";import{a as w}from"./index-zctVBz0Z.js";import{g as y}from"./editingNavigation-DV6RjfEr.js";import"./vendor-DeJPPs1q.js";import"./sanity-BS235U2J.js";import"./FormBox-Dl2qNixC.js";import"./PrimaryButton-BzVl43HT.js";import"./SecondaryButton-Dd0XyVMs.js";/* empty css                        */import"./PageWrapper-CRYaw3_L.js";/* empty css                   */import"./amplify-core-Blotw2Bg.js";import"./stripe-CN_WJsnY.js";const K=()=>{var p,m;const o=P(),i=j(),{formData:c,updateFormData:b}=w(),{isEditing:r,returnTo:a,skipTributes:l,previousPage:N}=i.state||{},[n,d]=v.useState(((m=(p=c.restingPlace)==null?void 0:p.cremation)==null?void 0:m.choice)||null),u=[{id:"nature",icon:t.jsx("img",{src:"/Picture/icons/tree-simple.svg",alt:"Return to Nature Icon"}),title:"Nature",description:"Return to the earth in a forest, lake, or other meaningful natural setting."},{id:"aerial",icon:t.jsx("img",{src:"/Picture/icons/cloud-aerial.svg",alt:"Aerial Icon"}),title:"Aerial",description:"A symbolic farewell in the sky, releasing your ashes into the wind."},{id:"meaningful-location",icon:t.jsx("img",{src:"/Picture/icons/heart-meaningful.svg",alt:"Meaningful Location Icon"}),title:"Meaningful Location",description:"A special place tied to your life, memories, or personal journey."}],g=e=>{d(e===n?null:e)},h=()=>{if(r||l)return o(a||"/confirm-wishes");o("/tributes-ceremony",{state:{previousPage:i.pathname,isEditing:!1,returnTo:"/confirm-wishes"}})},f=()=>{if(n){const e=u.find(s=>s.id===n);return{restingPlace:{...c.restingPlace,cremation:{choice:n,details:{id:e.id,title:e.title,description:e.description}}}}}return null},x=()=>{var e,s;if(r){const S=((e=i.state)==null?void 0:e.relevantSteps)||[];return(s=i.state)!=null&&s.returnTo,y(i.pathname,S)}return l?a||"/confirm-wishes":"/tributes-ceremony"};return t.jsx(C,{title:t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"h1b",children:"Resting"})," ",t.jsx("span",{className:"h1",children:"Place"})]}),subtitle:"Choose where your ashes will be released.",currentStep:4,currentSubStep:2,onSkip:h,getStepData:f,nextRoute:x(),skipButtonText:r?"Cancel":"Skip",continueButtonText:r?"Save & Return":"Save & Continue",children:t.jsx("div",{className:"choice-cards-container",children:u.map(e=>t.jsx(k,{icon:e.icon,title:e.title,description:e.description,isSelected:n===e.id,onClick:()=>g(e.id)},e.id))})})};export{K as default};
