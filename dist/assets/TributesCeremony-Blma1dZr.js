import{a as M,u as G,r,j as e}from"./react-vendor-C_ls207L.js";import{a as E}from"./index-zctVBz0Z.js";import{P as V}from"./PlanningLayout-Dy-zrQMn.js";import{T as b}from"./TextInput-BQHZCKtc.js";/* empty css                 */import"./vendor-DeJPPs1q.js";import"./sanity-BS235U2J.js";import"./amplify-core-Blotw2Bg.js";import"./stripe-CN_WJsnY.js";import"./FormBox-Dl2qNixC.js";import"./PrimaryButton-BzVl43HT.js";import"./SecondaryButton-Dd0XyVMs.js";/* empty css                        */import"./PageWrapper-CRYaw3_L.js";/* empty css                  */const ne=()=>{var v,y,w,j,C,N;const u=M(),m=G().state||{},L=()=>{var S,P,T,k,D;const{formData:t}=E(),i=(S=t.farewellCare)==null?void 0:S.choice,h=(T=(P=t.farewellCareDetails)==null?void 0:P.cremation)==null?void 0:T.choice,n=(D=(k=t.farewellCareDetails)==null?void 0:k.alternatives)==null?void 0:D.choice;if(i==="cremation"&&h==="scattering")return"/resting-place-scattering";if(i==="burial")return"/resting-place-burial";if(i==="alternatives"){if(n==="return-to-nature")return"/resting-place-nature";if(n==="memorialization")return"/resting-place-memorial";if(n==="donate-body")return"/resting-place-donate"}return"/resting-place"},R=m.previousPage||L(),o=m.isEditing||!1,p=m.returnTo||"/confirm-wishes",{formData:l,updateFormData:q}=E(),[a,O]=r.useState(((y=(v=l.tributes)==null?void 0:v.ceremony)==null?void 0:y.religiousPreferenceValue)||""),[c,W]=r.useState(((j=(w=l.tributes)==null?void 0:w.ceremony)==null?void 0:j.religiousOtherText)||""),[f,B]=r.useState(((N=(C=l.tributes)==null?void 0:C.ceremony)==null?void 0:N.ceremonySetting)||""),[s,g]=r.useState(!1),x=[{label:"No religious preference",value:"none"},{label:"Christianity",value:"christianity"},{label:"Islam",value:"islam"},{label:"Judaism",value:"judaism"},{label:"Buddhism",value:"buddhism"},{label:"Hinduism",value:"hinduism"},{label:"Spiritual but not Religious",value:"spiritual"},{label:"Other (please specify)",value:"other"},{label:"Prefer not to answer",value:"na"}],[d,F]=r.useState(window.innerWidth<=768);r.useEffect(()=>{const t=()=>F(window.innerWidth<=768);return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const I=()=>{u(o?p:R)},z=()=>{const t=x.find(n=>n.value===a),i=t?t.label:"",h=a==="other"&&c?`${i}: ${c}`:i;return{tributes:{...l.tributes,ceremony:{religiousPreference:h,religiousPreferenceValue:a,religiousOtherText:c,ceremonySetting:f}}}},H=()=>o?p:"/tributes-speaker";return e.jsxs(V,{title:"Farewell Tributes",subtitle:"Spirit and Setting",currentStep:5,currentSubStep:1,onGoBack:I,onSkip:()=>u(o?p:"/tributes-story"),getStepData:z,nextRoute:H(),formBoxClassName:"planning-formbox",continueButtonText:o?"Save & Return":"Save & Continue",defaultNavClosed:d,children:[e.jsxs("div",{className:"tributes-section",children:[e.jsx("div",{className:"tributes-label-container",children:e.jsx("label",{htmlFor:"religious-preference-dropdown",className:"input-label",children:"Religious or Spiritual Preference"})}),e.jsx(b,{type:"dropdown",id:"religious-preference-dropdown",name:"religiousPreference",placeholder:"Search, add or select one from the list",options:x,value:a,onChange:t=>O(t.target.value),containerClassName:"tributes-field"}),a==="other"&&e.jsxs("div",{className:"tributes-other-input-wrapper",children:[e.jsx("label",{htmlFor:"religious-other",className:"input-label secondary-label",children:"Please specify:"}),e.jsx(b,{id:"religious-other",name:"religiousOtherText",placeholder:"Enter your preference here",value:c,onChange:t=>W(t.target.value),containerClassName:"tributes-field",inputClassName:"tributes-single-input"})]})]}),e.jsxs("div",{className:"tributes-section",children:[e.jsxs("div",{className:"tributes-label-container",children:[e.jsx("label",{htmlFor:"ceremony-location",className:"input-label",children:"Ceremony Location & Setting"}),!d&&e.jsx("button",{className:"tributes-prompt-button desktop-prompt-button",onClick:()=>g(!s),type:"button",children:s?"Hide prompts":"Need inspiration?"})]}),e.jsxs("p",{className:"tributes-text-input-example tributes-text-input-instructions",children:[" ","Example: 'A beachside gathering at sunset, with waves in the background and close family.'"]}),s&&e.jsxs("div",{className:"tributes-prompts",children:[e.jsx("h4",{children:"Consider these questions:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"What places were meaningful to your loved one?"}),e.jsx("li",{children:"What time of day feels most appropriate?"}),e.jsx("li",{children:"Should the setting be intimate or open to many?"}),e.jsx("li",{children:"What elements of nature would they appreciate?"})]})]}),e.jsx(b,{id:"ceremony-location",name:"ceremonyLocation",value:f,onChange:t=>B(t.target.value),multiline:!0,containerClassName:"tributes-field mobile-textarea-container",textareaClassName:"tributes-textarea farewell-scrollbar",placeholder:"What kind of setting feels right for your ceremony?"}),d&&e.jsx("button",{className:"tributes-prompt-button mobile-prompt-button",onClick:()=>g(!s),type:"button",children:s?"Hide prompts":"Need inspiration?"})]})]})};export{ne as default};
