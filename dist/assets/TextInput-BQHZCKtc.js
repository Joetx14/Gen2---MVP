import{r as o,j as t,n as W}from"./react-vendor-C_ls207L.js";/* empty css                  */const Q=({id:d,name:k,label:D,type:b="text",value:a,onChange:$,placeholder:L,helper:R,error:f,disabled:p,options:c=[],multiline:v=!1,textareaClassName:O="",containerClassName:T="",..._})=>{const[m,B]=o.useState(!1),[r,h]=o.useState(!1),[N,H]=o.useState({top:0,left:0,width:0}),[n,u]=o.useState(-1),g=o.useRef(null),l=o.useRef(null),i=o.useRef(null),j=o.useRef(null),y=b==="password",w=b==="dropdown",M=y?m?"text":"password":b,P=w?c.find(e=>e.value===a):null,S=o.useCallback(()=>{if(v&&i.current){i.current.style.height="auto";const e=i.current.scrollHeight>0?i.current.scrollHeight:0;i.current.style.height=`${e}px`;const s=parseFloat(getComputedStyle(i.current).getPropertyValue("--textarea-max-height"))||240;e>s?i.current.classList.add("scrollable"):i.current.classList.remove("scrollable")}},[v]);o.useEffect(()=>{S()},[a,S]),o.useEffect(()=>{if(r&&l.current){const e=l.current.getBoundingClientRect();H({top:e.bottom+window.scrollY,left:e.left+window.scrollX,width:e.width})}},[r]);const x=o.useCallback(()=>{if(!p){const e=!r;if(h(e),e){const s=c.findIndex(F=>F.value===a);u(s!==-1?s:0)}else u(-1),l.current&&l.current.focus()}},[p,r,c,a]),C=o.useCallback(e=>{$({target:{name:k,value:e.value}}),h(!1),u(-1),l.current&&l.current.focus()},[k,$]),A=o.useCallback(e=>{if(!(p||!w))switch(e.key){case"Enter":case" ":e.preventDefault(),r?n>=0&&n<c.length&&C(c[n]):x();break;case"ArrowDown":e.preventDefault(),r?u(s=>s<c.length-1?s+1:0):x();break;case"ArrowUp":e.preventDefault(),r?u(s=>s>0?s-1:c.length-1):x();break;case"Escape":r&&(h(!1),u(-1),l.current&&l.current.focus());break;case"Tab":r&&(h(!1),u(-1));break}},[p,r,n,c.length,C,x,w]);o.useEffect(()=>{if(r&&n>=0&&j.current){const e=document.getElementById(`dropdown-option-${d}-${n}`);e&&e.scrollIntoView({block:"nearest"})}},[n,r,d]),o.useEffect(()=>{if(!w)return;const e=s=>{l.current&&!l.current.contains(s.target)&&j.current&&!j.current.contains(s.target)&&h(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[w]);const{multiline:z,textareaClassName:K,containerClassName:V,options:Y,helper:U,label:X,helperText:q,...I}=_,E={id:d,name:k,className:`text-input ${a?"filled":""} ${f?"error":""}`,value:a,onChange:e=>{$(e)},placeholder:L,disabled:p,...I};return t.jsxs("div",{className:`text-input-wrapper ${T}`,ref:g,children:[D&&t.jsx("label",{htmlFor:d,className:"text-label",children:D}),w?t.jsxs("div",{className:"input-container dropdown-container",children:[t.jsxs("div",{ref:l,className:`text-input dropdown-display ${r?"focused":""} ${a?"filled":""} ${f?"error":""} ${p?"disabled":""}`,onClick:x,onKeyDown:A,tabIndex:p?-1:0,role:"combobox","aria-haspopup":"listbox","aria-expanded":r,"aria-controls":r?`dropdown-list-${d}`:void 0,...I,children:[t.jsx("span",{children:P?P.label:t.jsx("span",{className:"dropdown-placeholder",children:L})}),t.jsx("svg",{className:`dropdown-arrow ${r?"dropdown-arrow-open":""}`,width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r&&W.createPortal(t.jsx("ul",{id:`dropdown-list-${d}`,className:"dropdown-list farewell-scrollbar",style:{position:"absolute",top:`${N.top}px`,left:`${N.left}px`,width:`${N.width}px`},role:"listbox","aria-activedescendant":n>=0?`dropdown-option-${d}-${n}`:void 0,ref:j,children:c.map((e,s)=>t.jsx("li",{id:`dropdown-option-${d}-${s}`,className:`dropdown-list-item ${e.value===a?"dropdown-list-item-selected":""} ${s===n?"dropdown-list-item-focused":""}`,onClick:()=>C(e),role:"option","aria-selected":e.value===a||s===n,onMouseEnter:()=>u(s),children:e.label},e.value))}),document.body)]}):v?t.jsx("div",{className:"input-container",children:t.jsx("textarea",{ref:e=>{i.current=e,g&&(g.current=e)},...E,className:`${E.className} ${O}`,rows:1,style:{overflowY:"hidden"}})}):t.jsxs("div",{className:`input-container ${y?"password-input-container":""}`,children:["          ",t.jsx("input",{ref:e=>{g.current=e},type:M,...E}),y&&t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>B(!m),"aria-label":m?"Hide password":"Show password",children:m?t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),R&&!f&&t.jsx("div",{className:"input-helper-text",children:R}),f&&t.jsx("div",{className:"error-helper",children:f})]})};export{Q as T};
