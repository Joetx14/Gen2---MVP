const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/amplify-core-Blotw2Bg.js","assets/vendor-DeJPPs1q.js","assets/react-vendor-C_ls207L.js","assets/sanity-BS235U2J.js"])))=>i.map(i=>d[i]);
import{_ as j}from"./sanity-BS235U2J.js";import{r as n,a as v,j as e}from"./react-vendor-C_ls207L.js";import{S}from"./StandardLayout-CHsFjCWf.js";import{F as w}from"./FormBox-Dl2qNixC.js";import{T as c}from"./TextInput-BQHZCKtc.js";import{P}from"./PrimaryButton-BzVl43HT.js";/* empty css                        */import{s as C}from"./amplify-core-Blotw2Bg.js";import"./vendor-DeJPPs1q.js";import"./PageWrapper-CRYaw3_L.js";import"./Footer-B_S_3MWt.js";/* empty css                  */const D=()=>{const[s,p]=n.useState(""),[t,g]=n.useState(""),[m,f]=n.useState(""),[d,r]=n.useState(""),[u,i]=n.useState(!1),h=v(),x=async a=>{if(a.preventDefault(),r(""),i(!0),!s){r("Email is required"),i(!1);return}if(t.length<8){r("Password must be at least 8 characters"),i(!1);return}if(t!==m){r("Passwords do not match"),i(!1);return}try{const{isSignUpComplete:o}=await C({username:s,password:t,attributes:{email:s}});if(o){const{isSignedIn:y}=await j(async()=>{const{isSignedIn:l}=await import("./amplify-core-Blotw2Bg.js").then(b=>b.i);return{isSignedIn:l}},__vite__mapDeps([0,1,2,3])).then(l=>l.signIn(s,t));y?h("/welcome"):r("Sign in failed after registration. Please try logging in.")}else r("Sign up incomplete. Please try again.")}catch(o){console.error("Sign up error:",o),r(o.message||"Registration failed. Please try again.")}finally{i(!1)}};return e.jsx(S,{title:e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"h1sub pre-title-subtitle",children:"Create your account"}),e.jsxs("span",{className:"h1",children:["Set your ",e.jsx("span",{className:"h1b",children:"email"})," and ",e.jsx("span",{className:"h1b",children:"password"})," to complete registration."]})]}),children:e.jsx("div",{className:"onboarding-form-content",children:e.jsx(w,{className:"onboarding-formbox",children:e.jsxs("form",{className:"standard-form",onSubmit:x,noValidate:!0,children:[e.jsx(c,{label:"Email Address",value:s,onChange:a=>p(a.target.value),type:"email",required:!0,autoFocus:!0}),e.jsx(c,{label:"Create Password",value:t,onChange:a=>g(a.target.value),type:"password",placeholder:"Create a secure password",required:!0,helperText:"Use at least 8 characters"}),e.jsx(c,{label:"Confirm Password",value:m,onChange:a=>f(a.target.value),type:"password",placeholder:"Confirm your password",required:!0}),d&&e.jsx("div",{className:"error-message",children:d}),e.jsx("div",{className:"onboarding-button-container",children:e.jsx(P,{type:"submit",disabled:u,children:u?"Creating Account...":"Create Account"})}),e.jsxs("p",{className:"privacy-text",children:["By creating an account you are accepting our"," ",e.jsx("a",{href:"/terms",target:"_blank",rel:"noreferrer",className:"privacy-link",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"/privacy",target:"_blank",rel:"noreferrer",className:"privacy-link",children:"Privacy Policy"}),"."]})]})})})})};export{D as default};
