import{a as C,r as n,R as e}from"./react-D8qwWWc-.js";import{b as _}from"./index-C_jNqslI.js";import{S as A}from"./StandardLayout-CODG-ZJt.js";import{F as k}from"./FormBox-DKl1xVdV.js";import{T as g}from"./TextInput-CfcbAWFU.js";import{P as w}from"./PrimaryButton-D-OJOajV.js";/* empty css             */import"./vendor-BRRJ753s.js";import"./amplify-CUteMs5F.js";import"./PageWrapper-qXWqd5_q.js";import"./Footer-DbTn4dsc.js";/* empty css                  */const $=()=>{const{user:l,updateUserProfile:h,deleteAccount:y}=_(),N=C(),[c,m]=n.useState(""),[i,u]=n.useState(""),[o,d]=n.useState(!0),[t,r]=n.useState(!1),[p,s]=n.useState(""),[f,b]=n.useState(!1);n.useEffect(()=>{l&&(m(l.displayName||""),u(l.email||""),d(l.subscribed!==!1))},[l]);const v=async a=>{a.preventDefault(),r(!0),s("");try{await h({displayName:c,email:i,subscribed:o}),s("Profile updated successfully!")}catch(S){s(`Error updating profile: ${S.message}`)}finally{r(!1)}},E=async()=>{if(!f){b(!0);return}r(!0);try{await y(),N("/")}catch(a){s(`Error deleting account: ${a.message}`),r(!1)}};return e.createElement(A,{title:"Account Settings",subtitle:"Manage your profile and account preferences"},e.createElement(k,null,e.createElement("form",{onSubmit:v,className:"auth-form"},e.createElement("h2",null,"Personal Information"),e.createElement(g,{id:"name",name:"name",label:"Full Name",placeholder:"Your full name",value:c,onChange:a=>m(a.target.value),disabled:t,containerClassName:"auth-form__input-field"}),e.createElement(g,{id:"email",name:"email",type:"email",label:"Email Address",placeholder:"Your email address",value:i,onChange:a=>u(a.target.value),disabled:t,containerClassName:"auth-form__input-field"}),e.createElement("div",{className:"preference-toggle"},e.createElement("label",{className:"checkbox-container"},e.createElement("input",{type:"checkbox",checked:o,onChange:()=>d(!o),disabled:t}),e.createElement("span",{className:"checkmark"}),"Receive updates and notifications"),e.createElement("p",{className:"preference-description"},"We'll send you important updates about your account and farewell planning.")),p&&e.createElement("p",{className:"auth-form__message",role:"alert"},p),e.createElement("div",{className:"auth-form__button-container"},e.createElement(w,{type:"submit",disabled:t,className:"auth-form__submit-button"},t?"Saving...":"Save Changes"))),e.createElement("div",{className:"danger-zone"},e.createElement("h2",null,"Delete Account"),e.createElement("p",null,"This action is permanent and cannot be undone. All your personal information and farewell plans will be permanently removed."),f?e.createElement("div",{className:"delete-confirmation"},e.createElement("p",null,"Are you sure you want to delete your account?"),e.createElement("div",{className:"delete-actions"},e.createElement("button",{className:"delete-confirm-btn",onClick:E,disabled:t},t?"Deleting...":"Yes, Delete My Account"),e.createElement("button",{className:"delete-cancel-btn",onClick:()=>b(!1),disabled:t},"Cancel"))):e.createElement("button",{className:"delete-account-btn",onClick:E,disabled:t},"Delete My Account"))))};export{$ as default};
