import{y as p,z as g,D as h,r as c,R as e}from"./index-DIgv-R-A.js";import{u as y}from"./usePlanningData-CwYwLl0W.js";import{F as E}from"./FormBox-BY7geAnO.js";import{S as w}from"./StandardLayout-CYUUsMFS.js";import{P as o}from"./PrimaryButton-BzDtkROL.js";import"./PageWrapper-BBELcwmB.js";import"./Footer-B6iBRH4i.js";const N=[{iconSrc:"/Picture/LP-Note-Write.svg",altText:"Plan and Update Icon",title:"Plan with Confidence",text:" Create and revisit your farewell anytime. Your life may change — your legacy can grow with it."},{iconSrc:"/Picture/email.svg",altText:"Share Icon",title:"Share with Clarity",text:"Make your wishes known, so the people you love don’t have to guess — or carry the burden alone."}],I=()=>{const n=p(),i=g(),{isAuthenticated:s}=h(),{formData:a}=y(),l=i.state?.isNewUser||localStorage.getItem("isNewUser")==="true",t=!!(a&&(a._metadata&&a._metadata.lastVisitedStep||a.basicInformation&&Object.keys(a.basicInformation).length>0));c.useEffect(()=>{console.log("WelcomeScreen mounted, current auth state:",s,"isReturningUser:",t)},[s,t]),c.useEffect(()=>{l&&(localStorage.removeItem("isNewUser"),n("/basic-information",{replace:!0}))},[l,n]);const m=()=>{n("/basic-information")},u=()=>{const r=a._metadata?.lastVisitedStep||"/basic-information";n(r)},f=()=>{window.localStorage.removeItem("farewell-planning-data"),n("/basic-information")};return e.createElement(w,{title:e.createElement(e.Fragment,null,e.createElement("span",{className:"h1"},t?"Welcome":"Your")," ",e.createElement("span",{className:"h1b"},t?"back!":"farewell")," ",e.createElement("span",{className:"h1"},t?"":"is more than a will")),subtitle:e.createElement("span",{className:"h1sub"},t?"We found your existing farewell plan. What would you like to do?":"We're here to shape your legacy — your voice, your way.")},e.createElement(E,{className:"standard-formbox"},e.createElement("div",{className:"welcome-features"},N.map((r,d)=>e.createElement("div",{key:d,className:"feature-item"},e.createElement("div",{className:"feature-icon-container"},e.createElement("img",{src:r.iconSrc,alt:r.altText,className:"feature-icon"})),e.createElement("div",{className:"feature-text-container"},e.createElement("h3",{className:"feature-title"},r.title),e.createElement("p",{className:"feature-description"},r.text))))),e.createElement("div",{className:"invite-primary-button",style:{display:"flex",justifyContent:"center",gap:"1rem"}},t?e.createElement(e.Fragment,null,e.createElement(o,{onClick:u},"Resume Planning"),e.createElement(o,{onClick:f,style:{background:"#fff",color:"#333",border:"2px solid #ccc"}},"Start Fresh")):e.createElement(o,{onClick:m},"Start Planning"))))};export{I as default};
