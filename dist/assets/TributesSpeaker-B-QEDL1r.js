import{y as R,z as L,F as M,r,R as e}from"./index-CF6624GP.js";import{P as A}from"./PlanningLayout-sYPRNK2f.js";import{T as u}from"./TextInput-BYf_x9nw.js";/* empty css                 */import"./FormBox-CJsMRRhu.js";import"./PrimaryButton-DwYit0ib.js";import"./SecondaryButton-Di3ltrhc.js";/* empty css                        */import"./PageWrapper-BpgNwjTZ.js";import"./TextInput-C1wQsApC.js";const V=()=>{const m=R(),g=L(),{isEditing:p,returnTo:f}=g.state||{},{formData:i,updateFormData:O}=M(),[n,E]=r.useState(i.tributes?.speaker?.speakerType||""),[o,d]=r.useState(i.tributes?.speaker?.speakerOther||""),[a,k]=r.useState(i.tributes?.speaker?.musicAndReadings||""),[s,b]=r.useState(!1),[c,v]=r.useState(window.innerWidth<=768);r.useEffect(()=>{const t=()=>{v(window.innerWidth<=768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const h=[{label:"Friend or Family Member",value:"friend"},{label:"Religious or Spiritual Leader",value:"religious"},{label:"Celebrant or Officiant",value:"officiant"},{label:"Other (please specify)",value:"other"},{label:"Not applicable / No speaker",value:"na"}],N=t=>{const l=t.target.value;E(l),l!=="other"&&d("")},S=t=>{k(t.target.value)},x=()=>m("/tributes-ceremony"),y=()=>{const t=h.find(T=>T.value===n),l=t?t.label:"",C=n==="other"&&o?`${l}: ${o}`:l;return{tributes:{...i.tributes,speaker:{speakerType:n,speakerLabel:C,speakerOther:o,musicAndReadings:a}}}},w=()=>p?f||"/confirm-wishes":"/tributes-story";return e.createElement(A,{title:e.createElement(e.Fragment,null,e.createElement("span",{className:"h1b"},"Farewell")," ",e.createElement("span",{className:"h1"},"Tributes")),subtitle:e.createElement("span",{className:"h1sub"},"Voice and Meaning"),currentStep:5,currentSubStep:2,onGoBack:x,continueButtonText:p?"Save & Return":"Save & Continue",onSkip:()=>m("/tributes-story"),getStepData:y,nextRoute:w(),defaultNavClosed:c,formBoxClassName:"planning-formbox"},e.createElement("div",{className:"tributes-section"},e.createElement("div",{className:"tributes-label-container"},e.createElement("label",{className:"input-label"},"Speaker or Leader")),e.createElement("p",{className:"tributes-text-input-instructions"},"Choose someone who can honor your loved one's memory and guide attendees through the service."),e.createElement(u,{type:"dropdown",id:"speaker-dropdown",name:"speaker-dropdown",placeholder:"Select a speaker type",options:h,value:n,onChange:N,containerClassName:"tributes-field"}),n==="other"&&e.createElement("div",{className:"tributes-other-input-wrapper"},e.createElement("label",{className:"input-label"},"Please specify:"),e.createElement(u,{id:"speaker-other",placeholder:"Enter the name or title of the speaker",value:o,onChange:t=>d(t.target.value),containerClassName:"tributes-field tributes-other-input"}))),e.createElement("div",{className:"tributes-section"},e.createElement("div",{className:"tributes-label-container"},e.createElement("label",{className:"input-label"},"Music & Readings"),!c&&e.createElement("button",{className:"tributes-prompt-button desktop-prompt-button",onClick:()=>b(!s),type:"button"},s?"Hide examples":"Need inspiration?")),e.createElement("p",{className:"tributes-text-input-instructions"},"Are there songs, readings, or words that reflect their life and spirit?"),s&&e.createElement("div",{className:"tributes-prompts"},e.createElement("h4",null,"Examples of music and readings:"),e.createElement("ul",null,e.createElement("li",null,'"Amazing Grace" sung by the congregation'),e.createElement("li",null,'The poem "Do Not Stand at My Grave and Weep" read by my daughter'),e.createElement("li",null,'"What a Wonderful World" played as guests arrive'),e.createElement("li",null,'A passage from my favorite book, "The Little Prince"'))),e.createElement(u,{id:"music-readings",value:a,onChange:S,multiline:!0,maxLength:1e3,containerClassName:"tributes-field mobile-textarea-container",textareaClassName:"tributes-textarea farewell-scrollbar",placeholder:"Are there songs, readings, or words that reflect their life and spirit?"}),a.length>900&&e.createElement("div",{className:`tributes-char-warning ${a.length>1e3?"exceeded":""}`},a.length>1e3?`Character limit exceeded: ${a.length}/1000`:`Characters remaining: ${1e3-a.length}`),c&&e.createElement("button",{className:"tributes-prompt-button mobile-prompt-button",onClick:()=>b(!s),type:"button"},s?"Hide examples":"Need inspiration?")))};export{V as default};
