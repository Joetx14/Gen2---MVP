import{a as W,u as D,r as a,j as e}from"./react-vendor-C_ls207L.js";import{a as F}from"./index-zctVBz0Z.js";import{P}from"./PlanningLayout-Dy-zrQMn.js";import{T as d}from"./TextInput-BQHZCKtc.js";/* empty css                 */import"./vendor-DeJPPs1q.js";import"./sanity-BS235U2J.js";import"./amplify-core-Blotw2Bg.js";import"./stripe-CN_WJsnY.js";import"./FormBox-Dl2qNixC.js";import"./PrimaryButton-BzVl43HT.js";import"./SecondaryButton-Dd0XyVMs.js";/* empty css                        */import"./PageWrapper-CRYaw3_L.js";/* empty css                  */const ee=()=>{var x,g,f,k,v,j;const p=W(),N=D(),{isEditing:u,returnTo:S}=N.state||{},{formData:o,updateFormData:$}=F(),[r,w]=a.useState(((g=(x=o.tributes)==null?void 0:x.speaker)==null?void 0:g.speakerType)||""),[l,h]=a.useState(((k=(f=o.tributes)==null?void 0:f.speaker)==null?void 0:k.speakerOther)||""),[s,y]=a.useState(((j=(v=o.tributes)==null?void 0:v.speaker)==null?void 0:j.musicAndReadings)||""),[i,m]=a.useState(!1),[c,C]=a.useState(window.innerWidth<=768);a.useEffect(()=>{const t=()=>{C(window.innerWidth<=768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const b=[{label:"Friend or Family Member",value:"friend"},{label:"Religious or Spiritual Leader",value:"religious"},{label:"Celebrant or Officiant",value:"officiant"},{label:"Other (please specify)",value:"other"},{label:"Not applicable / No speaker",value:"na"}],T=t=>{const n=t.target.value;w(n),n!=="other"&&h("")},E=t=>{y(t.target.value)},L=()=>p("/tributes-ceremony"),R=()=>{const t=b.find(O=>O.value===r),n=t?t.label:"",A=r==="other"&&l?`${n}: ${l}`:n;return{tributes:{...o.tributes,speaker:{speakerType:r,speakerLabel:A,speakerOther:l,musicAndReadings:s}}}},M=()=>u?S||"/confirm-wishes":"/tributes-story";return e.jsxs(P,{title:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"h1b",children:"Farewell"})," ",e.jsx("span",{className:"h1",children:"Tributes"})]}),subtitle:e.jsx("span",{className:"h1sub",children:"Voice and Meaning"}),currentStep:5,currentSubStep:2,onGoBack:L,continueButtonText:u?"Save & Return":"Save & Continue",onSkip:()=>p("/tributes-story"),getStepData:R,nextRoute:M(),defaultNavClosed:c,formBoxClassName:"planning-formbox",children:[e.jsxs("div",{className:"tributes-section",children:[e.jsx("div",{className:"tributes-label-container",children:e.jsx("label",{className:"input-label",children:"Speaker or Leader"})}),e.jsx("p",{className:"tributes-text-input-instructions",children:"Choose someone who can honor your loved one's memory and guide attendees through the service."}),e.jsx(d,{type:"dropdown",id:"speaker-dropdown",name:"speaker-dropdown",placeholder:"Select a speaker type",options:b,value:r,onChange:T,containerClassName:"tributes-field"}),r==="other"&&e.jsxs("div",{className:"tributes-other-input-wrapper",children:[e.jsx("label",{className:"input-label",children:"Please specify:"}),e.jsx(d,{id:"speaker-other",placeholder:"Enter the name or title of the speaker",value:l,onChange:t=>h(t.target.value),containerClassName:"tributes-field tributes-other-input"})]})]}),e.jsxs("div",{className:"tributes-section",children:[e.jsxs("div",{className:"tributes-label-container",children:[e.jsx("label",{className:"input-label",children:"Music & Readings"}),!c&&e.jsx("button",{className:"tributes-prompt-button desktop-prompt-button",onClick:()=>m(!i),type:"button",children:i?"Hide examples":"Need inspiration?"})]}),e.jsx("p",{className:"tributes-text-input-instructions",children:"Are there songs, readings, or words that reflect their life and spirit?"}),i&&e.jsxs("div",{className:"tributes-prompts",children:[e.jsx("h4",{children:"Examples of music and readings:"}),e.jsxs("ul",{children:[e.jsx("li",{children:'"Amazing Grace" sung by the congregation'}),e.jsx("li",{children:'The poem "Do Not Stand at My Grave and Weep" read by my daughter'}),e.jsx("li",{children:'"What a Wonderful World" played as guests arrive'}),e.jsx("li",{children:'A passage from my favorite book, "The Little Prince"'})]})]}),e.jsx(d,{id:"music-readings",value:s,onChange:E,multiline:!0,maxLength:1e3,containerClassName:"tributes-field mobile-textarea-container",textareaClassName:"tributes-textarea farewell-scrollbar",placeholder:"Are there songs, readings, or words that reflect their life and spirit?"}),s.length>900&&e.jsx("div",{className:`tributes-char-warning ${s.length>1e3?"exceeded":""}`,children:s.length>1e3?`Character limit exceeded: ${s.length}/1000`:`Characters remaining: ${1e3-s.length}`}),c&&e.jsx("button",{className:"tributes-prompt-button mobile-prompt-button",onClick:()=>m(!i),type:"button",children:i?"Hide examples":"Need inspiration?"})]})]})};export{ee as default};
