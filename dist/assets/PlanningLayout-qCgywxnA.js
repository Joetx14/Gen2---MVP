import{R as e,z as D,y as I,E as L,r as g}from"./index-CmCb-4LB.js";import{F as W}from"./FormBox-Dh3nntTN.js";import{P}from"./PrimaryButton-BRgn76h4.js";import{S as B}from"./SecondaryButton-D5ylqvlk.js";/* empty css                        */import{P as V}from"./PageWrapper-C5WnxMuh.js";const F=({currentStep:n,currentSubStep:m,steps:r,isOpen:c,onToggle:o})=>e.createElement(e.Fragment,null,e.createElement("nav",{className:`step-nav ${c?"open":"closed"}`},e.createElement("div",{className:`step-nav-bg ${c?"open":"closed"}`},e.createElement("button",{className:"stepnav-toggle",onClick:o,"aria-label":c?"Collapse navigation":"Expand navigation"},e.createElement("img",{src:c?"/Picture/nav-arrow-left.svg":"/Picture/nav-arrow-right.svg",alt:"",className:"stepnav-toggle-icon"})),e.createElement("ul",{className:"step-nav-list"},r.map((t,i)=>{const a=t.id<n,l=t.id===n;return e.createElement("li",{key:t.key||t.id,className:`step-nav-item ${a?"complete":l?"active":"future"}`},e.createElement("div",{className:"step-indicator-column"},e.createElement("div",{className:`step-nav-indicator ${a?"complete":l?"active":"future"}`},a?e.createElement("img",{src:"/Picture/checkmark.svg",alt:"Completed",className:"step-checkmark-icon"}):l?e.createElement("span",{className:"step-number-checkmark"},String(t.id).padStart(2,"0")):e.createElement("span",{className:"step-number"},String(t.id).padStart(2,"0"))),l&&t.substeps&&t.substeps.length>0&&e.createElement("div",{className:"substep-container"},t.substeps.map((d,u)=>{const v=u+1,f=m>v,p=m===v;return e.createElement(e.Fragment,{key:d.key||d.id||d.path||u},e.createElement("div",{className:`substep-indicator ${f?"complete":p?"current":"future"}`}),u<t.substeps.length-1&&e.createElement("div",{className:`substep-connector ${t.substeps[u+1].id<=m?"complete":""}`,"aria-hidden":"true"}))})),i<r.length-1&&e.createElement("div",{className:`step-vertical-line ${a?"complete":""}`})),c&&e.createElement("div",{className:"step-content-column"},e.createElement("span",{className:"nav-step"},t.label)))})))),e.createElement("div",{className:"mobile-step-nav mobile-only"},e.createElement("div",{className:"mobile-step-indicators"},r.map((t,i)=>{const a=t.id<n,l=t.id===n;return e.createElement(e.Fragment,{key:t.key||t.id},e.createElement("div",{className:`mobile-step-dot ${a?"complete":l?"current":"future"}`,"aria-label":`Step ${t.id}: ${t.label} ${a?"complete":l?"current":"upcoming"}`},a&&e.createElement("img",{src:"/Picture/checkmark.svg",alt:"",className:"mobile-checkmark-icon"}),l&&e.createElement("span",{className:"mobile-step-number"},String(t.id).padStart(2,"0"))),i<r.length-1&&e.createElement("div",{className:`mobile-step-connector ${a?"complete":""}`,"aria-hidden":"true"}))})))),_=({children:n,onClick:m,disabled:r=!1,className:c="",...o})=>{const t=`secondary-button ${c}`.trim();return e.createElement("button",{className:t,onClick:m,disabled:r,"aria-label":`Go back: ${typeof n=="string"?n:""}`,...o},e.createElement("img",{src:"/Picture/goback--arrow-right.svg",alt:"Go back arrow",className:"secondary-button-icon"}),n)},H=({title:n,subtitle:m,currentStep:r,currentSubStep:c=0,onGoBack:o,onSkip:t,getStepData:i,nextRoute:a,showNavButtons:l=!0,buttonsRowClassName:d="",rightButtonsClassName:u="",formBoxClassName:v="",defaultNavClosed:f=!1,continueButtonText:p="Save & continue",skipButtonText:k="Skip for now",children:x})=>{const N=D(),R=I(),{formData:G,updateFormData:S,trackStepVisit:h}=L(),y="farewellNavOpenPreference";g.useEffect(()=>{(N.pathname.includes("/farewell-")||N.pathname.includes("/tributes-"))&&h(N.pathname)},[N.pathname,h]);const b=g.useCallback(()=>window.innerWidth<=768,[]),[E,w]=g.useState(()=>{if(b())return!1;const s=localStorage.getItem(y);return s!==null?s==="true":!f});g.useEffect(()=>{const s=()=>{w(!b())};return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[b]),g.useEffect(()=>{b()||localStorage.setItem(y,E.toString())},[E,b]);const C=()=>{if(i){const s=i();S(s)}a&&R(a)},$=[{id:1,label:"Essential Details",key:"basicInfo"},{id:2,label:"Farewell Ceremony",key:"ceremony"},{id:3,label:"Farewell Care",key:"care"},{id:4,label:"Resting Place",key:"resting"},{id:5,label:"Farewell Tributes",key:"tributes"},{id:6,label:"Confirm Wishes",key:"confirm"}],A=`form-buttons-row ${d}`.trim(),z=`form-right-buttons ${u}`.trim();return e.createElement(V,null,e.createElement("div",{className:`planning-page-container ${E?"nav-open":"nav-closed"}`},e.createElement("aside",{className:"planning-stepnav desktop-only"},e.createElement(F,{currentStep:r,currentSubStep:c,steps:$,isOpen:E,onToggle:()=>w(s=>!s)})),e.createElement("div",{className:"mobile-only"},e.createElement(F,{currentStep:r,steps:$,isOpen:!1})),e.createElement("main",{className:`planning-form-container ${E?"nav-open":"nav-closed"}`},e.createElement("div",{className:"standard-formbox"},e.createElement("header",{className:"planning-header"},e.createElement("h1",{className:"planning-heading"},n),m&&e.createElement("h2",{className:"planning-subtitle h1sub"},m)),e.createElement(W,{className:`planning-formbox ${v}`.trim()},e.createElement("div",{className:"form-content"},x),l&&e.createElement(e.Fragment,null,e.createElement("div",{className:`${A} desktop-buttons`},o&&e.createElement(_,{onClick:o},"Go back"),e.createElement("div",{className:z},t&&e.createElement(B,{onClick:t},k),e.createElement(P,{onClick:C},p))),e.createElement("div",{className:"mobile-buttons-container"},e.createElement(P,{onClick:C,className:"mobile-primary-button button-text"},p),e.createElement("div",{className:"mobile-tertiary-buttons"},o&&e.createElement("button",{onClick:o,className:"mobile-back-button tertiary-button-text"},e.createElement("img",{src:"/Picture/goback--arrow-right.svg",alt:"",className:"button-arrow left-arrow"}),"Back"),t&&e.createElement("button",{onClick:t,className:"mobile-skip-button tertiary-button-text"},k,e.createElement("img",{src:"/Picture/arrow-right.svg",alt:"",className:"button-arrow right-arrow"}))))))))))};export{H as P};
