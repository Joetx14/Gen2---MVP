import{j as e,r as h,d as ke,a as Ae}from"./react-vendor-C_ls207L.js";import{u as Be}from"./usePlanningData-B1SNKOR8.js";import{u as Re}from"./index-zctVBz0Z.js";import{u as Fe}from"./useCollaborators-DjJ28Jpg.js";import{c as Me}from"./editingNavigation-DV6RjfEr.js";import{P as ze}from"./PrimaryButton-BzVl43HT.js";import{S as Se}from"./SecondaryButton-Dd0XyVMs.js";import"./vendor-DeJPPs1q.js";import"./sanity-BS235U2J.js";import"./amplify-core-Blotw2Bg.js";import"./stripe-CN_WJsnY.js";/* empty css                        */const We={"ceremony/memorial-service":e.jsx("img",{src:"/Picture/icons/memorial-service.svg",alt:"Memorial Service"}),"ceremony/celebration-of-life":e.jsx("img",{src:"/Picture/icons/celebration-of-life.svg",alt:"Celebration of Life"}),"ceremony/traditional-funeral":e.jsx("img",{src:"/Picture/icons/reef.svg",alt:"Traditional Funeral"}),"care/burial":e.jsx("img",{src:"/Picture/icons/casket-picture.svg",alt:"Burial"}),"care/cremation":e.jsx("img",{src:"/Picture/icons/cremation.svg",alt:"Cremation"}),"care/alternatives":e.jsx("img",{src:"/Picture/icons/alternatives.svg",alt:"Alternatives"}),"cremation/kept-at-home":e.jsx("img",{src:"/Picture/icons/kept-at-home-cremation.svg",alt:"Kept at Home"}),"cremation/cemetery-placement":e.jsx("img",{src:"/Picture/icons/cemetery-cremation.svg",alt:"Cemetery Placement"}),"cremation/scattering":e.jsx("img",{src:"/Picture/icons/scattering-cremation.svg",alt:"Scattering"}),"restingPlace/cremation":e.jsx("img",{src:"/Picture/icons/resting-cremation.svg",alt:"Cremation Resting Place"}),"restingPlace/nature":e.jsx("img",{src:"/Picture/icons/tree-simple.svg",alt:"Nature"}),"restingPlace/memorial":e.jsx("img",{src:"/Picture/icons/resting-memorial.svg",alt:"Memorial Resting Place"}),"restingPlace/donation":e.jsx("img",{src:"/Picture/icons/resting-donation.svg",alt:"Donation Resting Place"}),"restingPlace/aerial":e.jsx("img",{src:"/Picture/icons/cloud-aerial.svg",alt:"Aerial"}),"restingPlace/meaningful-location":e.jsx("img",{src:"/Picture/icons/heart-meaningful.svg",alt:"Meaningful Location"}),"restingPlace/natural-burial":e.jsx("img",{src:"/Picture/icons/heart-stem-hands.svg",alt:"Natural Burial"}),"restingPlace/ocean-return":e.jsx("img",{src:"/Picture/icons/wave.svg",alt:"Ocean Return"}),"restingPlace/tree-planting":e.jsx("img",{src:"/Picture/icons/tree-nature.svg",alt:"Tree Planting"}),"restingPlace/keepsake-jewelry":e.jsx("img",{src:"/Picture/icons/hand-diamond.svg",alt:"Keepsake Jewelry"}),"restingPlace/memorial-art":e.jsx("img",{src:"/Picture/icons/pictureframe.svg",alt:"Memorial Art"}),"restingPlace/living-space":e.jsx("img",{src:"/Picture/icons/flowers.svg",alt:"Living Space"}),"restingPlace/donate-science":e.jsx("img",{src:"/Picture/icons/science.svg",alt:"Donate to Science"}),"restingPlace/donate-organs":e.jsx("img",{src:"/Picture/icons/heart-held-hands.svg",alt:"Donate Organs"}),"restingPlace/donate-cause":e.jsx("img",{src:"/Picture/icons/cause.svg",alt:"Donate to Cause"}),"restingPlace/family-plot":e.jsx("img",{src:"/Picture/icons/3-headstone.svg",alt:"Family Plot"}),"restingPlace/cemetery-placement":e.jsx("img",{src:"/Picture/icons/headstone.svg",alt:"Cemetery"}),"burial/traditional-burial":e.jsx("img",{src:"/Picture/icons/headstone.svg",alt:"Traditional Burial"}),"burial/green-burial":e.jsx("img",{src:"/Picture/icons/green-burial.svg",alt:"Green Burial"}),"burial/special-memorial":e.jsx("img",{src:"/Picture/icons/special-memorial.svg",alt:"Special Memorial"}),"alternatives/memorialization":e.jsx("img",{src:"/Picture/icons/memorialization.svg",alt:"Memorialization"}),"alternatives/return-to-nature":e.jsx("img",{src:"/Picture/icons/tree-simple.svg",alt:"Return to Nature"}),"alternatives/donate-body":e.jsx("img",{src:"/Picture/icons/donate-body.svg",alt:"Donate Body"}),"tributes/ceremony":e.jsx("img",{src:"/Picture/icons/list-checkbox-hand.svg",alt:"Ceremony Essentials"}),"tributes/speaker":e.jsx("img",{src:"/Picture/icons/hand-heart.svg",alt:"Honoring Legacy"}),"tributes/story":e.jsx("img",{src:"/Picture/icons/hand-writing.svg",alt:"Meaningful Details"}),"nature/natural-burial":e.jsx("img",{src:"/Picture/icons/heart-stem-hands.svg",alt:"Natural Burial"}),"nature/ocean-return":e.jsx("img",{src:"/Picture/icons/cloud-aerial.svg",alt:"Ocean Return"}),"nature/tree-planting":e.jsx("img",{src:"/Picture/icons/tree-nature.svg",alt:"Tree Planting"})},r=(i,c)=>{const s=`${i}/${c}`;return We[s]||e.jsx("img",{src:"/Picture/icons/default.svg",alt:"Option"})},G=i=>r("tributes",i),He=({formData:i,isReadOnly:c,onEdit:s})=>{var p,b,B,R,F,M,$,t,a,N,P,w,f,y,C,k,S,I,g,u,d,O,V,Y,J,K,U,q,Q,X,Z,_,D,ee,ie,se,ce,ae,te,re,le,ne,oe,de,he,me,ge,ue,xe,je,ve,pe,be,Ne,Pe,we,fe,ye,Ce;const[x,T]=h.useState({}),m=(z,W)=>{W.preventDefault(),T(l=>({...l,[z]:!l[z]}))},j=({fieldId:z,content:W,expanded:l,onToggle:Ie})=>{const[Ee,Te]=h.useState(!1),H=ke.useRef(null);return ke.useEffect(()=>{const E=()=>{if(H.current){const Le=H.current.scrollHeight>H.current.clientHeight;Te(Le)}};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[W]),e.jsxs("div",{className:"truncated-field-container",children:[e.jsx("div",{className:`tribute-content ${l?"expanded":"collapsed"}`,children:e.jsx("div",{ref:H,className:`choice-card-description ${l?"":"truncate"}`,children:W})}),(Ee||l)&&e.jsx("button",{onClick:E=>Ie(z,E),className:`more-options-button ${l?"expanded":""}`,"aria-expanded":l,"aria-label":l?"Show less content":"Show more content",children:l?e.jsx("span",{className:"dots-icon expanded",children:"⋯"}):e.jsx("span",{className:"dots-icon",children:"⋯"})})]})};if(!i||Object.keys(i).length===0||!i.basicInformation)return e.jsx("p",{children:"No planning data available to display."});const L=((p=i.farewellCare)==null?void 0:p.choice)==="cremation"&&((B=(b=i.farewellCareDetails)==null?void 0:b.cremation)==null?void 0:B.choice)==="scattering"&&((F=(R=i.restingPlace)==null?void 0:R.cremation)==null?void 0:F.details),n=((M=i.farewellCare)==null?void 0:M.choice)==="burial"&&((t=($=i.restingPlace)==null?void 0:$.burial)==null?void 0:t.details),o=((a=i.farewellCare)==null?void 0:a.choice)==="alternatives"&&((P=(N=i.farewellCareDetails)==null?void 0:N.alternatives)==null?void 0:P.choice)==="return-to-nature"&&((f=(w=i.restingPlace)==null?void 0:w.nature)==null?void 0:f.details),v=((y=i.farewellCare)==null?void 0:y.choice)==="alternatives"&&((k=(C=i.farewellCareDetails)==null?void 0:C.alternatives)==null?void 0:k.choice)==="memorialization"&&((I=(S=i.restingPlace)==null?void 0:S.memorial)==null?void 0:I.details),A=((g=i.farewellCare)==null?void 0:g.choice)==="alternatives"&&((d=(u=i.farewellCareDetails)==null?void 0:u.alternatives)==null?void 0:d.choice)==="donate-body"&&((V=(O=i.restingPlace)==null?void 0:O.donation)==null?void 0:V.details);return e.jsxs("div",{className:"confirm-wishes-container-display",children:[e.jsxs("div",{className:"confirm-section essential-details-section",children:[e.jsx("div",{className:"section-header",children:e.jsx("h2",{children:"Farewell Wishes for"})}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"choice-container",children:[!c&&s&&e.jsx("button",{onClick:()=>s("basicInfo"),className:"card-edit-button","aria-label":"Edit Personal Information",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsx("div",{className:"choice-display",children:e.jsxs("div",{className:"choice-details",children:[e.jsxs("h3",{className:"choice-card-title feature-title",children:[(Y=i.basicInformation)==null?void 0:Y.firstName," ",(J=i.basicInformation)==null?void 0:J.lastName]}),e.jsxs("p",{className:"choice-card-description",children:["Birth Year: ",(K=i.basicInformation)==null?void 0:K.dateOfBirth]}),((U=i.basicInformation)==null?void 0:U.veteranStatus)&&e.jsxs("p",{className:"choice-card-description",children:["Veteran Status: ",i.basicInformation.veteranStatus]})]})})]})})]}),((q=i.farewellCeremony)==null?void 0:q.details)&&e.jsxs("div",{className:"confirm-section",children:[e.jsx("div",{className:"section-header",children:e.jsx("h2",{children:"Farewell Ceremony"})}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"choice-container",children:[!c&&s&&e.jsx("button",{onClick:()=>s("ceremony"),className:"card-edit-button","aria-label":"Edit Ceremony",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsxs("div",{className:"choice-display",children:[e.jsx("div",{className:"choice-icon",children:r("ceremony",i.farewellCeremony.choice)}),e.jsxs("div",{className:"choice-details",children:[e.jsx("h3",{className:"choice-card-title",children:i.farewellCeremony.details.title}),e.jsx("p",{className:"choice-card-description",children:i.farewellCeremony.details.description})]})]})]})})]}),((Q=i.farewellCare)==null?void 0:Q.details)&&e.jsxs("div",{className:"confirm-section",children:[e.jsx("div",{className:"section-header",children:e.jsx("h2",{children:"Farewell Care"})}),e.jsxs("div",{className:"section-content",children:[e.jsxs("div",{className:"choice-container",children:[!c&&s&&e.jsx("button",{onClick:()=>s("care"),className:"card-edit-button","aria-label":"Edit Care Option",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsxs("div",{className:"choice-display",children:[e.jsx("div",{className:"choice-icon",children:r("care",i.farewellCare.choice)}),e.jsxs("div",{className:"choice-details",children:[e.jsx("h3",{className:"choice-card-title",children:i.farewellCare.details.title}),e.jsx("p",{className:"choice-card-description",children:i.farewellCare.details.description})]})]})]}),((X=i.farewellCare)==null?void 0:X.choice)==="cremation"&&((_=(Z=i.farewellCareDetails)==null?void 0:Z.cremation)==null?void 0:_.details)&&e.jsxs("div",{className:"subchoice-container",children:[!c&&s&&e.jsx("button",{onClick:()=>s("careDetails"),className:"card-edit-button","aria-label":"Edit Cremation Details",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsxs("div",{className:"choice-display",children:[e.jsx("div",{className:"choice-icon",children:r("cremation",i.farewellCareDetails.cremation.choice)}),e.jsxs("div",{className:"choice-details",children:[e.jsx("h4",{className:"choice-card-title",children:i.farewellCareDetails.cremation.details.title}),e.jsx("p",{className:"choice-card-description",children:i.farewellCareDetails.cremation.details.description})]})]})]}),((D=i.farewellCare)==null?void 0:D.choice)==="burial"&&((ie=(ee=i.farewellCareDetails)==null?void 0:ee.burial)==null?void 0:ie.details)&&e.jsxs("div",{className:"subchoice-container",children:[!c&&s&&e.jsx("button",{onClick:()=>s("careDetails"),className:"card-edit-button","aria-label":"Edit Burial Details",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsxs("div",{className:"choice-display",children:[e.jsx("div",{className:"choice-icon",children:r("burial",i.farewellCareDetails.burial.choice)}),e.jsxs("div",{className:"choice-details",children:[e.jsx("h4",{className:"choice-card-title",children:i.farewellCareDetails.burial.details.title}),e.jsx("p",{className:"choice-card-description",children:i.farewellCareDetails.burial.details.description})]})]})]}),((se=i.farewellCare)==null?void 0:se.choice)==="alternatives"&&((ae=(ce=i.farewellCareDetails)==null?void 0:ce.alternatives)==null?void 0:ae.details)&&e.jsxs("div",{className:"subchoice-container",children:[!c&&s&&e.jsx("button",{onClick:()=>s("careDetails"),className:"card-edit-button","aria-label":"Edit Alternative Care Details",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsxs("div",{className:"choice-display",children:[e.jsx("div",{className:"choice-icon",children:r("alternatives",i.farewellCareDetails.alternatives.choice)}),e.jsxs("div",{className:"choice-details",children:[e.jsx("h4",{className:"choice-card-title",children:i.farewellCareDetails.alternatives.details.title}),e.jsx("p",{className:"choice-card-description",children:i.farewellCareDetails.alternatives.details.description})]})]})]})]})]}),(((re=(te=i.restingPlace)==null?void 0:te.cremation)==null?void 0:re.choice)||((ne=(le=i.restingPlace)==null?void 0:le.burial)==null?void 0:ne.choice)||((de=(oe=i.restingPlace)==null?void 0:oe.nature)==null?void 0:de.choice)||((me=(he=i.restingPlace)==null?void 0:he.memorial)==null?void 0:me.choice)||((ue=(ge=i.restingPlace)==null?void 0:ge.donation)==null?void 0:ue.choice))&&e.jsxs("div",{className:"confirm-section",children:[e.jsx("div",{className:"section-header",children:e.jsx("h2",{children:"Resting Place"})}),e.jsxs("div",{className:"section-content",children:[L&&e.jsxs("div",{className:"choice-container",children:[!c&&s&&e.jsx("button",{onClick:()=>s("restingPlace"),className:"card-edit-button","aria-label":"Edit Resting Place",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsxs("div",{className:"choice-display",children:[e.jsx("div",{className:"choice-icon",children:r("restingPlace",i.restingPlace.cremation.choice)}),e.jsxs("div",{className:"choice-details",children:[e.jsx("h4",{className:"choice-card-title",children:i.restingPlace.cremation.details.title}),e.jsx("p",{className:"choice-card-description",children:i.restingPlace.cremation.details.description})]})]})]}),n&&e.jsxs("div",{className:"choice-container",children:[!c&&s&&e.jsx("button",{onClick:()=>s("restingPlace"),className:"card-edit-button","aria-label":"Edit Burial Resting Place",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsxs("div",{className:"choice-display",children:[e.jsx("div",{className:"choice-icon",children:r("restingPlace",i.restingPlace.burial.choice)}),e.jsxs("div",{className:"choice-details",children:[e.jsx("h4",{className:"choice-card-title",children:i.restingPlace.burial.details.title}),e.jsx("p",{className:"choice-card-description",children:i.restingPlace.burial.details.description})]})]})]}),o&&e.jsxs("div",{className:"choice-container",children:[!c&&s&&e.jsx("button",{onClick:()=>s("restingPlace"),className:"card-edit-button","aria-label":"Edit Resting Place",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsxs("div",{className:"choice-display",children:[e.jsx("div",{className:"choice-icon",children:r("restingPlace",i.restingPlace.nature.choice)}),e.jsxs("div",{className:"choice-details",children:[e.jsx("h4",{className:"choice-card-title",children:i.restingPlace.nature.details.title}),e.jsx("p",{className:"choice-card-description",children:i.restingPlace.nature.details.description})]})]})]}),v&&e.jsxs("div",{className:"choice-container",children:[!c&&s&&e.jsx("button",{onClick:()=>s("restingPlace"),className:"card-edit-button","aria-label":"Edit Resting Place",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsxs("div",{className:"choice-display",children:[e.jsx("div",{className:"choice-icon",children:r("restingPlace",i.restingPlace.memorial.choice)}),e.jsxs("div",{className:"choice-details",children:[e.jsx("h4",{className:"choice-card-title",children:i.restingPlace.memorial.details.title}),e.jsx("p",{className:"choice-card-description",children:i.restingPlace.memorial.details.description})]})]})]}),A&&e.jsxs("div",{className:"choice-container",children:[!c&&s&&e.jsx("button",{onClick:()=>s("restingPlace"),className:"card-edit-button","aria-label":"Edit Resting Place",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsxs("div",{className:"choice-display",children:[e.jsx("div",{className:"choice-icon",children:r("restingPlace",i.restingPlace.donation.choice)}),e.jsxs("div",{className:"choice-details",children:[e.jsx("h4",{className:"choice-card-title",children:i.restingPlace.donation.details.title}),e.jsx("p",{className:"choice-card-description",children:i.restingPlace.donation.details.description})]})]})]})]})]}),e.jsxs("div",{className:"confirm-section",children:[e.jsx("div",{className:"section-header",children:e.jsx("h2",{children:"Farewell Tributes"})}),e.jsxs("div",{className:"section-content",children:[e.jsxs("div",{className:"tribute-item",children:[!c&&s&&e.jsx("button",{onClick:()=>s("tributes-ceremony"),className:"card-edit-button","aria-label":"Edit Ceremony Essentials",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsxs("div",{className:"choice-display",children:[e.jsx("div",{className:"choice-icon",children:G("ceremony")}),e.jsxs("div",{className:"choice-details",children:[e.jsx("h3",{className:"choice-card-title",children:"Ceremony Essentials"}),e.jsxs("p",{className:"choice-card-description",children:[e.jsx("strong",{children:"Religious/Spiritual Preference:"})," ",((je=(xe=i.tributes)==null?void 0:xe.ceremony)==null?void 0:je.religiousPreference)||"Not specified"]}),e.jsx(j,{fieldId:"ceremonySetting",content:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Setting:"})," ",((pe=(ve=i.tributes)==null?void 0:ve.ceremony)==null?void 0:pe.ceremonySetting)||"Not specified"]}),expanded:x.ceremonySetting,onToggle:m})]})]})]}),e.jsxs("div",{className:"tribute-item",children:[!c&&s&&e.jsx("button",{onClick:()=>s("tributes-speaker"),className:"card-edit-button","aria-label":"Edit Legacy Details",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsxs("div",{className:"choice-display",children:[e.jsx("div",{className:"choice-icon",children:G("speaker")}),e.jsxs("div",{className:"choice-details",children:[e.jsx("h3",{className:"choice-card-title",children:"Honoring Your Legacy"}),e.jsxs("p",{className:"choice-card-description",children:[e.jsx("strong",{children:"Speaker/Leader:"})," ",((Ne=(be=i.tributes)==null?void 0:be.speaker)==null?void 0:Ne.speakerLabel)||"Not specified"]}),e.jsx(j,{fieldId:"musicReadings",content:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Music & Readings:"})," ",((we=(Pe=i.tributes)==null?void 0:Pe.speaker)==null?void 0:we.musicAndReadings)||"Not specified"]}),expanded:x.musicReadings,onToggle:m})]})]})]}),((fe=i.tributes)==null?void 0:fe.story)&&e.jsxs("div",{className:"tribute-item",children:[!c&&s&&e.jsx("button",{onClick:()=>s("tributes-story"),className:"card-edit-button","aria-label":"Edit Story",children:e.jsx("img",{src:"/Picture/editpencil.svg",alt:"Edit"})}),e.jsxs("div",{className:"choice-display",children:[e.jsx("div",{className:"choice-icon",children:G("story")}),e.jsxs("div",{className:"choice-details",children:[e.jsx("h3",{className:"choice-card-title",children:"Meaningful Details"}),e.jsx(j,{fieldId:"story",content:((Ce=(ye=i.tributes)==null?void 0:ye.story)==null?void 0:Ce.text)||"Not specified",expanded:x.story,onToggle:m})]})]})]})]})]})]})},_e=()=>{const i=Ae(),{formData:c,savePlanToBackend:s,isLoading:x,error:T}=Be(),{isAuthenticated:m,isLoading:j,user:L}=Re();h.useEffect(()=>{console.log("Auth state:",{isAuthenticated:m,user:L})},[m,L]),h.useEffect(()=>{console.log("Design mode: Authentication checks bypassed for UI development")},[]);const n=Fe(),o=(n==null?void 0:n.collaborators)||[];n!=null&&n.isLoading;const[v,A]=h.useState(!1),[p,b]=h.useState(null);h.useEffect(()=>{window.scrollTo(0,0)},[]);const B=t=>{var N,P,w,f,y,C,k,S,I;const a=Me(t,c,"/confirm-wishes");switch(t){case"ceremony":i("/farewell-ceremony",{state:a});break;case"care":i("/farewell-care",{state:{...a,currentCareChoice:(N=c.farewellCare)==null?void 0:N.choice}});break;case"careDetails":const g=(P=c.farewellCare)==null?void 0:P.choice;g==="cremation"?((f=(w=c.farewellCareDetails)==null?void 0:w.cremation)==null?void 0:f.choice)==="scattering"?i("/resting-place-scattering",{state:{...a,source:"cremation",skipTributes:!0}}):i("/farewell-care-cremation",{state:{...a,skipTributes:!0}}):g==="burial"?i("/farewell-care-burial",{state:{...a,skipTributes:!0}}):g==="alternatives"?i("/care-alternatives",{state:{...a,skipTributes:!0}}):i("/farewell-care",{state:{...a,skipTributes:!0}});break;case"tributes-ceremony":i("/tributes-ceremony",{state:a});break;case"tributes-speaker":i("/tributes-speaker",{state:a});break;case"tributes-story":i("/tributes-story",{state:a});break;case"restingPlace":const u=(y=c.farewellCare)==null?void 0:y.choice;if(u==="cremation"&&((k=(C=c.farewellCareDetails)==null?void 0:C.cremation)==null?void 0:k.choice)==="scattering")i("/resting-place-scattering",{state:a});else if(u==="alternatives"){const d=(I=(S=c.farewellCareDetails)==null?void 0:S.alternatives)==null?void 0:I.choice;d==="memorialization"?i("/resting-place-memorial",{state:a}):d==="return-to-nature"?i("/resting-place-nature",{state:a}):d==="donate-body"&&i("/resting-place-donate",{state:a})}else u==="burial"&&i("/resting-place-burial",{state:a});break;case"basicInfo":i("/basic-information",{state:a});break;default:i("/basic-information",{state:a})}},R=async()=>{A(!0),b(null);try{localStorage.setItem("farewell-planning-data",JSON.stringify(c)),console.log("DESIGN MODE: Data saved locally, proceeding to collaborators"),i("/add-collaborators",{state:{fromConfirmWishes:!0}})}catch(t){console.error("Error:",t),b("An error occurred")}finally{A(!1)}},F=()=>{i("/tributes-story")},M=()=>{i("/collaborator/dashboard")};return j||x&&(!c||!c.basicInformation)?e.jsx("div",{className:"loading-container",style:{textAlign:"center",padding:"50px"},children:"Loading your plan details..."}):T&&(!c||!c.basicInformation)?e.jsxs("div",{className:"error-container",style:{textAlign:"center",padding:"50px",color:"red"},children:["Error loading your plan: ",T,".",e.jsx("br",{}),e.jsx(Se,{onClick:()=>window.location.reload(),style:{marginTop:"1rem"},children:"Try Again"})]}):e.jsxs("div",{className:"confirm-wishes-page-wrapper",children:[e.jsxs("div",{className:"confirm-wishes-header-container",children:[e.jsxs("h1",{children:[e.jsx("span",{className:"h1b",children:"Farewell"}),e.jsx("span",{className:"h1",children:"Wishes"})]}),e.jsx("span",{className:"h1sub",children:"Confirm your choices before your share. You can update them anytime."})]}),o&&o.length>0&&e.jsx("div",{className:"page-header-actions",children:e.jsx("div",{className:"collaborators-container",children:e.jsxs("button",{className:"shared-with-button",onClick:M,"aria-label":"View people this plan is shared with",children:[e.jsx("span",{className:"shared-with-text",children:"Shared With"}),e.jsxs("div",{className:"collaborator-avatars",children:[o.slice(0,3).map((t,a)=>e.jsx("div",{className:"collaborator-avatar",title:t.name||t.fullName,children:(t.name||t.fullName||"").charAt(0)},t.id)),o.length>3&&e.jsxs("div",{className:"collaborator-more",children:["+",o.length-3]})]})]})})}),e.jsx(He,{formData:c,isReadOnly:!1,onEdit:B}),p&&e.jsx("p",{className:"error-message",style:{color:"red",textAlign:"center",marginTop:"1rem"},children:p}),e.jsxs("div",{className:"confirm-actions",children:[e.jsxs(Se,{onClick:F,disabled:v,children:[e.jsx("span",{className:"go-back-icon","aria-hidden":"true",children:"←"})," Go back"]}),e.jsx(ze,{onClick:R,disabled:v,style:{width:"15rem",height:"4rem"},children:v?"Saving...":"Save & Share"})]})]})};export{_e as default};
