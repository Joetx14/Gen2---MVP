import{a as g,u as j,r as a,j as e}from"./react-vendor-C_ls207L.js";import{a as w}from"./index-zctVBz0Z.js";import{P as v}from"./PlanningLayout-Dy-zrQMn.js";import{T as N}from"./TextInput-BQHZCKtc.js";/* empty css                 */import"./vendor-DeJPPs1q.js";import"./sanity-BS235U2J.js";import"./amplify-core-Blotw2Bg.js";import"./stripe-CN_WJsnY.js";import"./FormBox-Dl2qNixC.js";import"./PrimaryButton-BzVl43HT.js";import"./SecondaryButton-Dd0XyVMs.js";/* empty css                        */import"./PageWrapper-CRYaw3_L.js";/* empty css                  */const G=()=>{var p;const o=g(),h=j(),{isEditing:r,returnTo:l}=h.state||{},{formData:c,updateFormData:k}=w(),[t,d]=a.useState(((p=c.tributes)==null?void 0:p.lifeStory)||""),[n,m]=a.useState(!1),[u,x]=a.useState(window.innerWidth<=768),s=2e3;a.useEffect(()=>{const i=()=>{x(window.innerWidth<=768)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const b=()=>{o(r?l||"/confirm-wishes":"/tributes-speaker")},f=()=>{o(r&&l||"/confirm-wishes")},S=()=>({tributes:{...c.tributes,lifeStory:t}}),y=()=>r&&l||"/confirm-wishes";return e.jsx(v,{title:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"h1b",children:"Farewell"})," ",e.jsx("span",{className:"h1",children:"Tributes"})]}),subtitle:e.jsx("span",{className:"h1sub",children:"Your Life Story"}),currentStep:5,currentSubStep:3,onGoBack:b,skipButtonText:r?"Cancel":"Skip",onSkip:f,continueButtonText:r?"Save & Return":"Save & Continue",getStepData:S,nextRoute:y(),showSkipButton:!0,defaultNavClosed:u,formBoxClassName:"planning-formbox",children:e.jsxs("div",{className:"tributes-section",children:[e.jsxs("div",{className:"tributes-label-container",children:[e.jsx("label",{className:"input-label",children:"Life Story & Special Memories"}),!u&&e.jsx("button",{className:"tributes-prompt-button desktop-prompt-button",onClick:()=>m(!n),type:"button",children:n?"Hide prompts":"Need inspiration?"})]}),e.jsx("p",{className:"tributes-text-input-instructions",children:"Share key moments, achievements, or stories that you'd like remembered about your life."}),n&&e.jsxs("div",{className:"tributes-prompts",children:[e.jsx("h4",{children:"Consider these elements of your story:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Important achievements or milestones you're proud of"}),e.jsx("li",{children:"People who influenced your life's path"}),e.jsx("li",{children:"Lessons you've learned that you want to pass on"}),e.jsx("li",{children:"Meaningful experiences that shaped who you are"}),e.jsx("li",{children:"Values that have guided your decisions"})]})]}),e.jsx(N,{id:"life-story-input",value:t,onChange:i=>{i.target.value.length<=s&&d(i.target.value)},multiline:!0,maxLength:s,containerClassName:"tributes-field mobile-textarea-container",textareaClassName:"tributes-textarea farewell-scrollbar",placeholder:"Share key elements of your life story here..."}),t.length>s*.9&&e.jsx("div",{className:`tributes-char-warning ${t.length>s?"exceeded":""}`,children:t.length>s?`Character limit exceeded: ${t.length}/${s}`:`Characters remaining: ${s-t.length}`}),u&&e.jsx("button",{className:"tributes-prompt-button mobile-prompt-button",onClick:()=>m(!n),type:"button",children:n?"Hide prompts":"Need inspiration?"})]})})};export{G as default};
