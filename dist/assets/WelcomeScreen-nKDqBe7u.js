import{y as b,z as v,D as w,R as e}from"./index-_qITkk-6.js";import{u as S}from"./usePlanningData-CemFquC3.js";import{F as f}from"./FormBox-Dmwetzuk.js";import{S as h}from"./StandardLayout-DSaQVFaS.js";import{P as s}from"./PrimaryButton-D3spWT2S.js";import"./PageWrapper-CEJiEr0o.js";import"./Footer-Do-Z50v7.js";const p=[{iconSrc:"/Picture/LP-Note-Write.svg",altText:"Plan and Update Icon",title:"Plan with Confidence",text:" Create and revisit your farewell anytime. Your life may change — your legacy can grow with it."},{iconSrc:"/Picture/email.svg",altText:"Share Icon",title:"Share with Clarity",text:"Make your wishes known, so the people you love don’t have to guess — or carry the burden alone."}],F=()=>{const n=b(),E=v(),{formData:a,isLoading:c}=S(),{user:o,isAuthenticated:m,isLoading:i,error:g}=w(),u=E.state?.isNewUser===!0||!a||!a._metadata?.lastVisitedStep&&(!a.basicInformation||Object.keys(a.basicInformation).length===0),r=!u&&!!(a&&(a._metadata&&a._metadata.lastVisitedStep||a.basicInformation&&Object.keys(a.basicInformation).length>0)),d=()=>{n("/basic-information")},y=()=>{const t=a?._metadata?.lastVisitedStep,l=a?._metadata?.isCompleted;n(l?"/confirm-wishes":t||"/basic-information")},N=()=>{n("/basic-information",{state:{startFresh:!0}})};return c||i?u&&m&&!i?e.createElement(h,{title:e.createElement(e.Fragment,null,e.createElement("span",{className:"h1"},"Your")," ",e.createElement("span",{className:"h1b"},"farewell")," ",e.createElement("span",{className:"h1"},"is more than a will")),subtitle:e.createElement("span",{className:"h1sub"},"We're here to shape your legacy — your voice, your way.")},e.createElement(f,{className:"standard-formbox"},e.createElement("div",{className:"welcome-features"},p.map((t,l)=>e.createElement("div",{key:l,className:"feature-item"},e.createElement("div",{className:"feature-icon-container"},e.createElement("img",{src:t.iconSrc,alt:t.altText,className:"feature-icon"})),e.createElement("div",{className:"feature-text-container"},e.createElement("h3",{className:"feature-title"},t.title),e.createElement("p",{className:"feature-description"},t.text))))),e.createElement("div",{className:"invite-primary-button",style:{display:"flex",justifyContent:"center",gap:"1rem"}},e.createElement(s,{onClick:d},"Start Planning")))):e.createElement("div",{className:"app-loading"},"Loading...",e.createElement("br",null),e.createElement("span",{style:{color:"red",fontWeight:"bold"}},"Debug: WelcomeScreen is waiting for plan data or authentication to finish."),e.createElement("br",null),e.createElement("div",{style:{color:"blue",marginTop:8}},e.createElement("div",null,"authIsLoading: ",String(i)),e.createElement("div",null,"isLoading (plan): ",String(c)),e.createElement("div",null,"isAuthenticated: ",String(m)),e.createElement("div",null,"User: ",o?JSON.stringify(o):"null"),e.createElement("div",null,"Auth Error: ",g||"none")),e.createElement("br",null),"If this never disappears, check your network, backend, or authentication state."):e.createElement(h,{title:e.createElement(e.Fragment,null,e.createElement("span",{className:"h1"},r?"Welcome":"Your")," ",e.createElement("span",{className:"h1b"},r?"back!":"farewell")," ",e.createElement("span",{className:"h1"},r?"":"is more than a will")),subtitle:e.createElement("span",{className:"h1sub"},r?"We found your existing farewell plan. What would you like to do?":"We're here to shape your legacy — your voice, your way.")},e.createElement(f,{className:"standard-formbox"},e.createElement("div",{className:"welcome-features"},p.map((t,l)=>e.createElement("div",{key:l,className:"feature-item"},e.createElement("div",{className:"feature-icon-container"},e.createElement("img",{src:t.iconSrc,alt:t.altText,className:"feature-icon"})),e.createElement("div",{className:"feature-text-container"},e.createElement("h3",{className:"feature-title"},t.title),e.createElement("p",{className:"feature-description"},t.text))))),e.createElement("div",{className:"invite-primary-button",style:{display:"flex",justifyContent:"center",gap:"1rem"}},r?e.createElement(e.Fragment,null,e.createElement(s,{onClick:y},"Resume Planning"),e.createElement(s,{onClick:N,style:{background:"#fff",color:"#333",border:"2px solid #ccc"}},"Start Fresh")):e.createElement(s,{onClick:d},"Start Planning"))))};export{F as default};
