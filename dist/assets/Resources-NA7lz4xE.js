const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/stegaEncodeSourceMap-C1sSoLVV.js","assets/index-CgnmhZIY.js","assets/index-ClTZAVw-.css","assets/browser-DgH9XFLc.js"])))=>i.map(i=>d[i]);
import{_ as re,S as Ke,a as cr,b as D,c as M,d as ur,O as S,i as H,e as lr,f as Ce,m as $,g as ne,h as X,j as Ee,k as V,o as W,p as et,n as hr,q as dr,s as fr,t as U,v as tt,w as rt,x as se}from"./index-CgnmhZIY.js";var $e={now:function(){return($e.delegate||Date).now()},delegate:void 0},pr=function(r){re(e,r);function e(t,n,s){t===void 0&&(t=1/0),n===void 0&&(n=1/0),s===void 0&&(s=$e);var i=r.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=s,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return e.prototype.next=function(t){var n=this,s=n.isStopped,i=n._buffer,o=n._infiniteTimeWindow,a=n._timestampProvider,c=n._windowTime;s||(i.push(t),!o&&i.push(a.now()+c)),this._trimBuffer(),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(t),s=this,i=s._infiniteTimeWindow,o=s._buffer,a=o.slice(),c=0;c<a.length&&!t.closed;c+=i?1:2)t.next(a[c]);return this._checkFinalizedStatuses(t),n},e.prototype._trimBuffer=function(){var t=this,n=t._bufferSize,s=t._timestampProvider,i=t._buffer,o=t._infiniteTimeWindow,a=(o?1:2)*n;if(n<1/0&&a<i.length&&i.splice(0,i.length-a),!o){for(var c=s.now(),u=0,h=1;h<i.length&&i[h]<=c;h+=2)u=h;u&&i.splice(0,u+1)}},e}(Ke),yr=function(r){re(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return this},e}(cr),Te={setInterval:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return setInterval.apply(void 0,D([r,e],M(t)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},gr=function(r){re(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.scheduler=t,s.work=n,s.pending=!1,s}return e.prototype.schedule=function(t,n){var s;if(n===void 0&&(n=0),this.closed)return this;this.state=t;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(t,n,s){return s===void 0&&(s=0),Te.setInterval(t.flush.bind(t,this),s)},e.prototype.recycleAsyncId=function(t,n,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return n;n!=null&&Te.clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(t,n);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var s=!1,i;try{this.work(t)}catch(o){s=!0,i=o||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),i},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,n=t.id,s=t.scheduler,i=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,ur(i,this),n!=null&&(this.id=this.recycleAsyncId(s,n,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(yr),Oe=function(){function r(e,t){t===void 0&&(t=r.now),this.schedulerActionCtor=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},r.now=$e.now,r}(),mr=function(r){re(e,r);function e(t,n){n===void 0&&(n=Oe.now);var s=r.call(this,t,n)||this;return s.actions=[],s._active=!1,s}return e.prototype.flush=function(t){var n=this.actions;if(this._active){n.push(t);return}var s;this._active=!0;do if(s=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,s){for(;t=n.shift();)t.unsubscribe();throw s}},e}(Oe),wr=new mr(gr),vr=wr,nt=new S(function(r){return r.complete()});function st(r,e){var t=H(r)?r:function(){return r},n=function(s){return s.error(t())};return new S(n)}function br(r){return!!r&&(r instanceof S||H(r.lift)&&H(r.subscribe))}var it=lr(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});function v(r,e){return new Promise(function(t,n){var s=!1,i;r.subscribe({next:function(o){i=o,s=!0},error:n,complete:function(){s?t(i):n(new it)}})})}function Re(r,e){return new Promise(function(t,n){var s=new Ce({next:function(i){t(i),s.unsubscribe()},error:n,complete:function(){n(new it)}});r.subscribe(s)})}function Cr(r){return r instanceof Date&&!isNaN(r)}var Er=Array.isArray;function $r(r,e){return Er(e)?r.apply(void 0,D([],M(e))):r(e)}function Ar(r){return $(function(e){return $r(r,e)})}function Ir(r,e,t){return t===void 0&&(t=Ee),function(n){je(e,function(){for(var s=r.length,i=new Array(s),o=s,a=s,c=function(h){je(e,function(){var d=ne(r[h],e),y=!1;d.subscribe(X(n,function(f){i[h]=f,y||(y=!0,a--),a||n.next(t(i.slice()))},function(){--o||n.complete()}))},n)},u=0;u<s;u++)c(u)})}}function je(r,e,t){e()}function _r(r,e,t,n,s,i,o,a){var c=[],u=0,h=0,d=!1,y=function(){d&&!c.length&&!u&&e.complete()},f=function(l){return u<n?p(l):c.push(l)},p=function(l){u++;var g=!1;V(t(l,h++)).subscribe(X(e,function(b){e.next(b)},function(){g=!0},void 0,function(){if(g)try{u--;for(var b=function(){var m=c.shift();o||p(m)};c.length&&u<n;)b();y()}catch(m){e.error(m)}}))};return r.subscribe(X(e,f,function(){d=!0,y()})),function(){}}function Q(r,e,t){return t===void 0&&(t=1/0),H(e)?Q(function(n,s){return $(function(i,o){return e(n,i,s,o)})(V(r(n,s)))},t):(typeof e=="number"&&(t=e),W(function(n,s){return _r(n,s,r,t)}))}function ot(r){return r===void 0&&(r=1/0),Q(Ee,r)}function xr(){return ot(1)}function at(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return xr()(ne(r,et(r)))}function ct(r){return new S(function(e){V(r()).subscribe(e)})}function Sr(r,e,t){return t===void 0&&(t=vr),new S(function(n){var s=Cr(r)?+r-t.now():r;s<0&&(s=0);var i=0;return t.schedule(function(){n.closed||(n.next(i++),n.complete())},s)})}function Tr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=et(r),n=hr(r,1/0),s=r;return s.length?s.length===1?V(s[0]):ot(n)(ne(s,t)):nt}var Or=Array.isArray;function Rr(r){return r.length===1&&Or(r[0])?r[0]:r}function ut(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=dr(r);return t?fr(ut.apply(void 0,D([],M(r))),Ar(t)):W(function(n,s){Ir(D([n],M(Rr(r))))(s)})}function jr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return ut.apply(void 0,D([],M(r)))}function lt(r){return W(function(e,t){try{e.subscribe(t)}finally{t.add(r)}})}function ht(r){r===void 0&&(r={});var e=r.connector,t=e===void 0?function(){return new Ke}:e,n=r.resetOnError,s=n===void 0?!0:n,i=r.resetOnComplete,o=i===void 0?!0:i,a=r.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var h,d,y,f=0,p=!1,l=!1,g=function(){d?.unsubscribe(),d=void 0},b=function(){g(),h=y=void 0,p=l=!1},m=function(){var w=h;b(),w?.unsubscribe()};return W(function(w,C){f++,!l&&!p&&g();var I=y=y??t();C.add(function(){f--,f===0&&!l&&!p&&(d=pe(m,c))}),I.subscribe(C),!h&&f>0&&(h=new Ce({next:function(_){return I.next(_)},error:function(_){l=!0,g(),d=pe(b,s,_),I.error(_)},complete:function(){p=!0,g(),d=pe(b,o),I.complete()}}),V(w).subscribe(h))})(u)}}function pe(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(e===!0){r();return}if(e!==!1){var s=new Ce({next:function(){s.unsubscribe(),r()}});return V(e.apply(void 0,D([],M(t)))).subscribe(s)}}function qr(r,e,t){var n,s=!1;return n=r,ht({connector:function(){return new pr(n,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function Pr(r,e,t){var n=H(r)||e||t?{next:r,error:e,complete:t}:r;return n?W(function(s,i){var o;(o=n.subscribe)===null||o===void 0||o.call(n);var a=!0;s.subscribe(X(i,function(c){var u;(u=n.next)===null||u===void 0||u.call(n,c),i.next(c)},function(){var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),i.complete()},function(c){var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),i.error(c)},function(){var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Ee}const dt=!(typeof navigator>"u")&&navigator.product==="ReactNative",ft={timeout:dt?6e4:12e4},Fr=function(r){const e={...ft,...typeof r=="string"?{url:r}:r};if(e.timeout=pt(e.timeout),e.query){const{url:t,searchParams:n}=function(s){const i=s.indexOf("?");if(i===-1)return{url:s,searchParams:new URLSearchParams};const o=s.slice(0,i),a=s.slice(i+1);if(!dt)return{url:o,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const c=new URLSearchParams;for(const u of a.split("&")){const[h,d]=u.split("=");h&&c.append(qe(h),qe(d||""))}return{url:o,searchParams:c}}(e.url);for(const[s,i]of Object.entries(e.query)){if(i!==void 0)if(Array.isArray(i))for(const a of i)n.append(s,a);else n.append(s,i);const o=n.toString();o&&(e.url=`${t}?${o}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function qe(r){return decodeURIComponent(r.replace(/\+/g," "))}function pt(r){if(r===!1||r===0)return!1;if(r.connect||r.socket)return r;const e=Number(r);return isNaN(e)?pt(ft.timeout):{connect:e,socket:e}}const Dr=/^https?:\/\//i,Mr=function(r){if(!Dr.test(r.url))throw new Error(`"${r.url}" is not a valid URL`)};function yt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}const kr=["request","response","progress","error","abort"],Pe=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function gt(r,e){const t=[],n=Pe.reduce((i,o)=>(i[o]=i[o]||[],i),{processOptions:[Fr],validateOptions:[Mr]});function s(i){const o=kr.reduce((f,p)=>(f[p]=function(){const l=Object.create(null);let g=0;return{publish:function(b){for(const m in l)l[m](b)},subscribe:function(b){const m=g++;return l[m]=b,function(){delete l[m]}}}}(),f),{}),a=(f=>function(p,l,...g){const b=p==="onError";let m=l;for(let w=0;w<f[p].length&&(m=(0,f[p][w])(m,...g),!b||m);w++);return m})(n),c=a("processOptions",i);a("validateOptions",c);const u={options:c,channels:o,applyMiddleware:a};let h;const d=o.request.subscribe(f=>{h=e(f,(p,l)=>((g,b,m)=>{let w=g,C=b;if(!w)try{C=a("onResponse",b,m)}catch(I){C=null,w=I}w=w&&a("onError",w,m),w?o.error.publish(w):C&&o.response.publish(C)})(p,l,f))});o.abort.subscribe(()=>{d(),h&&h.abort()});const y=a("onReturn",o,u);return y===o&&o.request.publish(u),y}return s.use=function(i){if(!i)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof i=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(i.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return Pe.forEach(o=>{i[o]&&n[o].push(i[o])}),t.push(i),s},s.clone=()=>gt(t,e),r.forEach(s.use),s}var Fe,De,Lr=yt(function(){if(De)return Fe;De=1;var r=function(e){return e.replace(/^\s+|\s+$/g,"")};return Fe=function(e){if(!e)return{};for(var t={},n=r(e).split(`
`),s=0;s<n.length;s++){var i=n[s],o=i.indexOf(":"),a=r(i.slice(0,o)).toLowerCase(),c=r(i.slice(o+1));typeof t[a]>"u"?t[a]=c:(u=t[a],Object.prototype.toString.call(u)==="[object Array]"?t[a].push(c):t[a]=[t[a],c])}var u;return t}}());let ve=class{onabort;onerror;onreadystatechange;ontimeout;readyState=0;response;responseText="";responseType="";status;statusText;withCredentials;#e;#t;#n;#s={};#r;#i={};#o;open(e,t,n){this.#e=e,this.#t=t,this.#n="",this.readyState=1,this.onreadystatechange?.(),this.#r=void 0}abort(){this.#r&&this.#r.abort()}getAllResponseHeaders(){return this.#n}setRequestHeader(e,t){this.#s[e]=t}setInit(e,t=!0){this.#i=e,this.#o=t}send(e){const t=this.responseType!=="arraybuffer",n={...this.#i,method:this.#e,headers:this.#s,body:e};typeof AbortController=="function"&&this.#o&&(this.#r=new AbortController,typeof EventTarget<"u"&&this.#r.signal instanceof EventTarget&&(n.signal=this.#r.signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(this.#t,n).then(s=>(s.headers.forEach((i,o)=>{this.#n+=`${o}: ${i}\r
`}),this.status=s.status,this.statusText=s.statusText,this.readyState=3,this.onreadystatechange?.(),t?s.text():s.arrayBuffer())).then(s=>{typeof s=="string"?this.responseText=s:this.response=s,this.readyState=4,this.onreadystatechange?.()}).catch(s=>{s.name!=="AbortError"?this.onerror?.(s):this.onabort?.()})}};const be=typeof XMLHttpRequest=="function"?"xhr":"fetch",Vr=be==="xhr"?XMLHttpRequest:ve,Ur=(r,e)=>{const t=r.options,n=r.applyMiddleware("finalizeOptions",t),s={},i=r.applyMiddleware("interceptRequest",void 0,{adapter:be,context:r});if(i){const l=setTimeout(e,0,null,i);return{abort:()=>clearTimeout(l)}}let o=new Vr;o instanceof ve&&typeof n.fetch=="object"&&o.setInit(n.fetch,n.useAbortSignal??!0);const a=n.headers,c=n.timeout;let u=!1,h=!1,d=!1;if(o.onerror=l=>{p(o instanceof ve?l instanceof Error?l:new Error(`Request error while attempting to reach is ${n.url}`,{cause:l}):new Error(`Request error while attempting to reach is ${n.url}${l.lengthComputable?`(${l.loaded} of ${l.total} bytes transferred)`:""}`))},o.ontimeout=l=>{p(new Error(`Request timeout while attempting to reach ${n.url}${l.lengthComputable?`(${l.loaded} of ${l.total} bytes transferred)`:""}`))},o.onabort=()=>{f(!0),u=!0},o.onreadystatechange=function(){c&&(f(),s.socket=setTimeout(()=>y("ESOCKETTIMEDOUT"),c.socket)),!u&&o&&o.readyState===4&&o.status!==0&&function(){if(!(u||h||d)){if(o.status===0)return void p(new Error("Unknown XHR error"));f(),h=!0,e(null,{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:n.url,method:n.method,headers:Lr(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText})}}()},o.open(n.method,n.url,!0),o.withCredentials=!!n.withCredentials,a&&o.setRequestHeader)for(const l in a)a.hasOwnProperty(l)&&o.setRequestHeader(l,a[l]);return n.rawBody&&(o.responseType="arraybuffer"),r.applyMiddleware("onRequest",{options:n,adapter:be,request:o,context:r}),o.send(n.body||null),c&&(s.connect=setTimeout(()=>y("ETIMEDOUT"),c.connect)),{abort:function(){u=!0,o&&o.abort()}};function y(l){d=!0,o.abort();const g=new Error(l==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${n.url}`:`Connection timed out on request to ${n.url}`);g.code=l,r.channels.error.publish(g)}function f(l){(l||u||o&&o.readyState>=2&&s.connect)&&clearTimeout(s.connect),s.socket&&clearTimeout(s.socket)}function p(l){if(h)return;f(!0),h=!0,o=null;const g=l||new Error(`Network error while attempting to reach ${n.url}`);g.isNetworkError=!0,g.request=n,e(g)}},Nr=(r=[],e=Ur)=>gt(r,e);var zr={},Me,ke,Le,Ve,Ue,ye={exports:{}};Ue||(Ue=1,function(r,e){e.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;n.splice(1,0,s,"color: inherit");let i=0,o=0;n[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(i++,a==="%c"&&(o=i))}),n.splice(o,0,s)},e.save=function(n){try{n?e.storage.setItem("debug",n):e.storage.removeItem("debug")}catch{}},e.load=function(){let n;try{n=e.storage.getItem("debug")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=zr.DEBUG),n},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),r.exports=(Ve?Le:(Ve=1,Le=function(n){function s(a){let c,u,h,d=null;function y(...f){if(!y.enabled)return;const p=y,l=Number(new Date),g=l-(c||l);p.diff=g,p.prev=c,p.curr=l,c=l,f[0]=s.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");let b=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,(m,w)=>{if(m==="%%")return"%";b++;const C=s.formatters[w];if(typeof C=="function"){const I=f[b];m=C.call(p,I),f.splice(b,1),b--}return m}),s.formatArgs.call(p,f),(p.log||s.log).apply(p,f)}return y.namespace=a,y.useColors=s.useColors(),y.color=s.selectColor(a),y.extend=i,y.destroy=s.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(u!==s.namespaces&&(u=s.namespaces,h=s.enabled(a)),h),set:f=>{d=f}}),typeof s.init=="function"&&s.init(y),y}function i(a,c){const u=s(this.namespace+(typeof c>"u"?":":c)+a);return u.log=this.log,u}function o(a,c){let u=0,h=0,d=-1,y=0;for(;u<a.length;)if(h<c.length&&(c[h]===a[u]||c[h]==="*"))c[h]==="*"?(d=h,y=u,h++):(u++,h++);else{if(d===-1)return!1;h=d+1,y++,u=y}for(;h<c.length&&c[h]==="*";)h++;return h===c.length}return s.debug=s,s.default=s,s.coerce=function(a){return a instanceof Error?a.stack||a.message:a},s.disable=function(){const a=[...s.names,...s.skips.map(c=>"-"+c)].join(",");return s.enable(""),a},s.enable=function(a){s.save(a),s.namespaces=a,s.names=[],s.skips=[];const c=(typeof a=="string"?a:"").trim().replace(" ",",").split(",").filter(Boolean);for(const u of c)u[0]==="-"?s.skips.push(u.slice(1)):s.names.push(u)},s.enabled=function(a){for(const c of s.skips)if(o(a,c))return!1;for(const c of s.names)if(o(a,c))return!0;return!1},s.humanize=function(){if(ke)return Me;ke=1;var a=1e3,c=60*a,u=60*c,h=24*u,d=7*h;function y(f,p,l,g){var b=p>=1.5*l;return Math.round(f/l)+" "+g+(b?"s":"")}return Me=function(f,p){p=p||{};var l,g,b=typeof f;if(b==="string"&&f.length>0)return function(m){if(!((m=String(m)).length>100)){var w=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(w){var C=parseFloat(w[1]);switch((w[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*C;case"weeks":case"week":case"w":return C*d;case"days":case"day":case"d":return C*h;case"hours":case"hour":case"hrs":case"hr":case"h":return C*u;case"minutes":case"minute":case"mins":case"min":case"m":return C*c;case"seconds":case"second":case"secs":case"sec":case"s":return C*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return C;default:return}}}}(f);if(b==="number"&&isFinite(f))return p.long?(l=f,(g=Math.abs(l))>=h?y(l,g,h,"day"):g>=u?y(l,g,u,"hour"):g>=c?y(l,g,c,"minute"):g>=a?y(l,g,a,"second"):l+" ms"):function(m){var w=Math.abs(m);return w>=h?Math.round(m/h)+"d":w>=u?Math.round(m/u)+"h":w>=c?Math.round(m/c)+"m":w>=a?Math.round(m/a)+"s":m+"ms"}(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))}}(),s.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach(a=>{s[a]=n[a]}),s.names=[],s.skips=[],s.formatters={},s.selectColor=function(a){let c=0;for(let u=0;u<a.length;u++)c=(c<<5)-c+a.charCodeAt(u),c|=0;return s.colors[Math.abs(c)%s.colors.length]},s.enable(s.load()),s}))(e);const{formatters:t}=r.exports;t.j=function(n){try{return JSON.stringify(n)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}}(ye,ye.exports)),ye.exports;const Br=typeof Buffer>"u"?()=>!1:r=>Buffer.isBuffer(r);function Ne(r){return Object.prototype.toString.call(r)==="[object Object]"}function Hr(r){if(Ne(r)===!1)return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(Ne(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)}const Wr=["boolean","string","number"];function Qr(){return{processOptions:r=>{const e=r.body;return!e||typeof e.pipe=="function"||Br(e)||Wr.indexOf(typeof e)===-1&&!Array.isArray(e)&&!Hr(e)?r:Object.assign({},r,{body:JSON.stringify(r.body),headers:Object.assign({},r.headers,{"Content-Type":"application/json"})})}}}function Gr(r){return{onResponse:t=>{const n=t.headers["content-type"]||"",s=r&&r.force||n.indexOf("application/json")!==-1;return t.body&&n&&s?Object.assign({},t,{body:e(t.body)}):t},processOptions:t=>Object.assign({},t,{headers:Object.assign({Accept:"application/json"},t.headers)})};function e(t){try{return JSON.parse(t)}catch(n){throw n.message=`Failed to parsed response body as JSON: ${n.message}`,n}}}let N={};typeof globalThis<"u"?N=globalThis:typeof window<"u"?N=window:typeof global<"u"?N=global:typeof self<"u"&&(N=self);var Jr=N;function Xr(r={}){const e=r.implementation||Jr.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(t,n)=>new e(s=>(t.error.subscribe(i=>s.error(i)),t.progress.subscribe(i=>s.next(Object.assign({type:"progress"},i))),t.response.subscribe(i=>{s.next(Object.assign({type:"response"},i)),s.complete()}),t.request.publish(n),()=>t.abort.publish()))}}function Yr(){return{onRequest:r=>{if(r.adapter!=="xhr")return;const e=r.request,t=r.context;function n(s){return i=>{const o=i.lengthComputable?i.loaded/i.total*100:-1;t.channels.progress.publish({stage:s,percent:o,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"))}}}var mt=(r,e,t)=>(t.method==="GET"||t.method==="HEAD")&&(r.isNetworkError||!1);function Zr(r){return 100*Math.pow(2,r)+100*Math.random()}const Ae=(r={})=>(e=>{const t=e.maxRetries||5,n=e.retryDelay||Zr,s=e.shouldRetry;return{onError:(i,o)=>{const a=o.options,c=a.maxRetries||t,u=a.retryDelay||n,h=a.shouldRetry||s,d=a.attemptNumber||0;if((y=a.body)!==null&&typeof y=="object"&&typeof y.pipe=="function"||!h(i,d,a)||d>=c)return i;var y;const f=Object.assign({},o,{options:Object.assign({},a,{attemptNumber:d+1})});return setTimeout(()=>o.channels.request.publish(f),u(d)),null}}})({shouldRetry:mt,...r});Ae.shouldRetry=mt;function wt(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}var vt={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Ie={0:8203,1:8204,2:8205,3:65279},Kr=new Array(4).fill(String.fromCodePoint(Ie[0])).join("");function en(r){let e=JSON.stringify(r);return`${Kr}${Array.from(e).map(t=>{let n=t.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${t} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map(s=>String.fromCodePoint(Ie[s])).join("")}).join("")}`}function tn(r){return!Number.isNaN(Number(r))||/[a-z]/i.test(r)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(r)?!1:!!Date.parse(r)}function rn(r){try{new URL(r,r.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function Hs(r,e,t="auto"){return t===!0||t==="auto"&&(tn(r)||rn(r))?r:`${r}${en(e)}`}Object.fromEntries(Object.entries(Ie).map(r=>r.reverse()));Object.fromEntries(Object.entries(vt).map(r=>r.reverse()));var nn=`${Object.values(vt).map(r=>`\\u{${r.toString(16)}}`).join("")}`,ze=new RegExp(`[${nn}]{4,}`,"gu");function sn(r){var e;return{cleaned:r.replace(ze,""),encoded:((e=r.match(ze))==null?void 0:e[0])||""}}function on(r){return r&&JSON.parse(sn(JSON.stringify(r)).cleaned)}function an(r){return on(r)}const cn="drafts",un="versions",k=".",Y=`${cn}${k}`,bt=`${un}${k}`;function ie(r){return r.startsWith(Y)}function oe(r){return r.startsWith(bt)}function ln(r){if(oe(r)){const e=ce(r);return Y+e}return ie(r)?r:Y+r}function ae(r,e){if(e==="drafts"||e==="published")throw new Error('Version can not be "published" or "drafts"');return`${bt}${e}${k}${ce(r)}`}function Ct(r){if(!oe(r))return;const[e,t,...n]=r.split(k);return t}function ce(r){return oe(r)?r.split(k).slice(2).join(k):ie(r)?r.slice(Y.length):r}let hn=r=>crypto.getRandomValues(new Uint8Array(r)),dn=(r,e,t)=>{let n=(2<<Math.log(r.length-1)/Math.LN2)-1,s=-~(1.6*n*e/r.length);return(i=e)=>{let o="";for(;;){let a=t(s),c=s|0;for(;c--;)if(o+=r[a[c]&n]||"",o.length===i)return o}}},fn=(r,e=21)=>dn(r,e,hn);const Be=/\r\n|[\n\r\u2028\u2029]/;function pn(r,e,t){const n=r.split(Be),s={start:He(e.start,n),end:e.end?He(e.end,n):void 0},{start:i,end:o,markerLines:a}=yn(s,n),c=`${o}`.length;return r.split(Be,o).slice(i,o).map((u,h)=>{const d=i+1+h,y=` ${` ${d}`.slice(-c)} |`,f=a[d],p=!a[d+1];if(!f)return` ${y}${u.length>0?` ${u}`:""}`;let l="";if(Array.isArray(f)){const g=u.slice(0,Math.max(f[0]-1,0)).replace(/[^\t]/g," "),b=f[1]||1;l=[`
 `,y.replace(/\d/g," ")," ",g,"^".repeat(b)].join(""),p&&t&&(l+=" "+t)}return[">",y,u.length>0?` ${u}`:"",l].join("")}).join(`
`)}function yn(r,e){const t={...r.start},n={...t,...r.end},s=2,i=3,o=t.line??-1,a=t.column??0,c=n.line,u=n.column;let h=Math.max(o-(s+1),0),d=Math.min(e.length,c+i);o===-1&&(h=0),c===-1&&(d=e.length);const y=c-o,f={};if(y)for(let p=0;p<=y;p++){const l=p+o;if(!a)f[l]=!0;else if(p===0){const g=e[l-1].length;f[l]=[a,g-a+1]}else if(p===y)f[l]=[0,u];else{const g=e[l-p].length;f[l]=[0,g]}}else a===u?a?f[o]=[a,0]:f[o]=!0:f[o]=[a,u-a];return{start:h,end:d,markerLines:f}}function He(r,e){let t=0;for(let n=0;n<e.length;n++){const s=e[n].length+1;if(t+s>r)return{line:n+1,column:r-t};t+=s}return{line:e.length,column:e[e.length-1]?.length??0}}const ge=5;class gn extends Error{response;statusCode=400;responseBody;details;constructor(e,t){const n=Et(e,t);super(n.message),Object.assign(this,n)}}class mn extends Error{response;statusCode=500;responseBody;details;constructor(e){const t=Et(e);super(t.message),Object.assign(this,t)}}function Et(r,e){const t=r.body,n={response:r,statusCode:r.statusCode,responseBody:bn(t,r),message:"",details:void 0};if(!wt(t))return n.message=me(r,t),n;const s=t.error;if(typeof s=="string"&&typeof t.message=="string")return n.message=`${s} - ${t.message}`,n;if(typeof s!="object"||s===null)return typeof s=="string"?n.message=s:typeof t.message=="string"?n.message=t.message:n.message=me(r,t),n;if(wn(s)||vn(s)){const i=s.items||[],o=i.slice(0,ge).map(c=>c.error?.description).filter(Boolean);let a=o.length?`:
- ${o.join(`
- `)}`:"";return i.length>ge&&(a+=`
...and ${i.length-ge} more`),n.message=`${s.description}${a}`,n.details=t.error,n}if($t(s)){const i=e?.options?.query?.tag;return n.message=At(s,i),n.details=t.error,n}return"description"in s&&typeof s.description=="string"?(n.message=s.description,n.details=s,n):(n.message=me(r,t),n)}function wn(r){return"type"in r&&r.type==="mutationError"&&"description"in r&&typeof r.description=="string"}function vn(r){return"type"in r&&r.type==="actionError"&&"description"in r&&typeof r.description=="string"}function $t(r){return wt(r)&&r.type==="queryParseError"&&typeof r.query=="string"&&typeof r.start=="number"&&typeof r.end=="number"}function At(r,e){const{query:t,start:n,end:s,description:i}=r;if(!t||typeof n>"u")return`GROQ query parse error: ${i}`;const o=e?`

Tag: ${e}`:"";return`GROQ query parse error:
${pn(t,{start:n,end:s},i)}${o}`}function me(r,e){const t=typeof e=="string"?` (${Cn(e,100)})`:"",n=r.statusMessage?` ${r.statusMessage}`:"";return`${r.method}-request to ${r.url} resulted in HTTP ${r.statusCode}${n}${t}`}function bn(r,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(r,null,2):r}function Cn(r,e){return r.length>e?`${r.slice(0,e)}…`:r}class En extends Error{projectId;addOriginUrl;constructor({projectId:e}){super("CorsOriginError"),this.name="CorsOriginError",this.projectId=e;const t=new URL(`https://sanity.io/manage/project/${e}/api`);if(typeof location<"u"){const{origin:n}=location;t.searchParams.set("cors","add"),t.searchParams.set("origin",n),this.addOriginUrl=t,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${t}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${t}`}}const $n={onResponse:(r,e)=>{if(r.statusCode>=500)throw new mn(r);if(r.statusCode>=400)throw new gn(r,e);return r}};function An(){const r={};return{onResponse:e=>{const t=e.headers["x-sanity-warning"],n=Array.isArray(t)?t:[t];for(const s of n)!s||r[s]||(r[s]=!0,console.warn(s));return e}}}function We(r){return Nr([Ae({shouldRetry:In}),...r,An(),Qr(),Gr(),Yr(),$n,Xr({implementation:S})])}function In(r,e,t){if(t.maxRetries===0)return!1;const n=t.method==="GET"||t.method==="HEAD",s=(t.uri||t.url).startsWith("/data/query"),i=r.response&&(r.response.statusCode===429||r.response.statusCode===502||r.response.statusCode===503);return(n||s)&&i?!0:Ae.shouldRetry(r,e,t)}const _n="https://www.sanity.io/help/";function _e(r){return _n+r}const Qe=["image","file"],Ge=["before","after","replace"],It=r=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(r))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},xn=r=>{if(!/^[-a-z0-9]+$/i.test(r))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Sn=r=>{if(Qe.indexOf(r)===-1)throw new Error(`Invalid asset type: ${r}. Must be one of ${Qe.join(", ")}`)},z=(r,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${r}() takes an object of properties`)},_t=(r,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${r}(): "${e}" is not a valid document ID`)},L=(r,e)=>{if(!e._id)throw new Error(`${r}() requires that the document contains an ID ("_id" property)`);_t(r,e._id)},Tn=(r,e)=>{if(typeof e!="string")throw new Error(`\`${r}()\`: \`${e}\` is not a valid document type`)},xt=(r,e)=>{if(!e._type)throw new Error(`\`${r}()\` requires that the document contains a type (\`_type\` property)`);Tn(r,e._type)},On=(r,e)=>{if(e._id&&e._id!==r)throw new Error(`The provided document ID (\`${e._id}\`) does not match the generated version ID (\`${r}\`)`)},Rn=(r,e,t)=>{const n="insert(at, selector, items)";if(Ge.indexOf(r)===-1){const s=Ge.map(i=>`"${i}"`).join(", ");throw new Error(`${n} takes an "at"-argument which is one of: ${s}`)}if(typeof e!="string")throw new Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(t))throw new Error(`${n} takes an "items"-argument which must be an array`)},j=r=>{if(!r.dataset)throw new Error("`dataset` must be provided to perform queries");return r.dataset||""},St=r=>{if(typeof r!="string"||!/^[a-z0-9._-]{1,75}$/i.test(r))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return r},Tt=r=>{if(!r["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:t}=r["~experimental_resource"];switch(e){case"dataset":{if(t.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},T=(r,e)=>{if(e["~experimental_resource"])throw new Error(`\`${r}\` does not support resource-based operations`)};function jn(r){let e=!1,t;return(...n)=>(e||(t=r(...n),e=!0),t)}const q=r=>jn((...e)=>console.warn(r.join(" "),...e)),qn=q(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),Pn=q(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Fn=q(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Dn=q(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),Mn=q(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${_e("js-client-browser-token")} for more information and how to hide this warning.`]),kn=q(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),Ln=q(["Using the Sanity client without specifying an API version is deprecated.",`See ${_e("js-client-api-version")}`]),Vn="apicdn.sanity.io",B={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},Un=["localhost","127.0.0.1","0.0.0.0"],Nn=r=>Un.indexOf(r)!==-1;function zn(r){if(r==="1"||r==="X")return;const e=new Date(r);if(!(/^\d{4}-\d{2}-\d{2}$/.test(r)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function Ot(r){if(Array.isArray(r)&&r.length>1&&r.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const Rt=(r,e)=>{const t={...e,...r,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||B.stega,...typeof r.stega=="boolean"?{enabled:r.stega}:r.stega||{}}};t.apiVersion||Ln();const n={...B,...t},s=n.useProjectHostname&&!n["~experimental_resource"];if(typeof Promise>"u"){const y=_e("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${y}`)}if(s&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(n["~experimental_resource"]&&Tt(n),typeof n.perspective<"u"&&Ot(n.perspective),"encodeSourceMap"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof n.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${n.stega.enabled}`);if(n.stega.enabled&&n.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(n.stega.enabled&&typeof n.stega.studioUrl!="string"&&typeof n.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${n.stega.studioUrl}`);const i=typeof window<"u"&&window.location&&window.location.hostname,o=i&&Nn(window.location.hostname),a=!!n.token;n.withCredentials&&a&&(kn(),n.withCredentials=!1),i&&o&&a&&n.ignoreBrowserTokenWarning!==!0?Mn():typeof n.useCdn>"u"&&Pn(),s&&xn(n.projectId),n.dataset&&It(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?St(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion=`${n.apiVersion}`.replace(/^v/,""),n.isDefaultApi=n.apiHost===B.apiHost,n.useCdn===!0&&n.withCredentials&&qn(),n.useCdn=n.useCdn!==!1&&!n.withCredentials,zn(n.apiVersion);const c=n.apiHost.split("://",2),u=c[0],h=c[1],d=n.isDefaultApi?Vn:h;return s?(n.url=`${u}://${n.projectId}.${h}/v${n.apiVersion}`,n.cdnUrl=`${u}://${n.projectId}.${d}/v${n.apiVersion}`):(n.url=`${n.apiHost}/v${n.apiVersion}`,n.cdnUrl=n.url),n};class jt extends Error{name="ConnectionFailedError"}class Bn extends Error{name="DisconnectError";reason;constructor(e,t,n={}){super(e,n),this.reason=t}}class Hn extends Error{name="ChannelError";data;constructor(e,t){super(e),this.data=t}}class Wn extends Error{name="MessageError";data;constructor(e,t,n={}){super(e,n),this.data=t}}class Je extends Error{name="MessageParseError"}const Qn=["channelError","disconnect"];function qt(r,e){return ct(()=>{const t=r();return br(t)?t:se(t)}).pipe(Q(t=>Gn(t,e)))}function Gn(r,e){return new S(t=>{const n=e.includes("open"),s=e.includes("reconnect");function i(u){if("data"in u){const[h,d]=Xe(u);t.error(h?new Je("Unable to parse EventSource error message",{cause:d}):new Wn((d?.data).message,d));return}r.readyState===r.CLOSED?t.error(new jt("EventSource connection failed")):s&&t.next({type:"reconnect"})}function o(){t.next({type:"open"})}function a(u){const[h,d]=Xe(u);if(h){t.error(new Je("Unable to parse EventSource message",{cause:h}));return}if(u.type==="channelError"){const y=new URL(r.url).searchParams.get("tag");t.error(new Hn(Jn(d?.data,y),d.data));return}if(u.type==="disconnect"){t.error(new Bn(`Server disconnected client: ${d.data?.reason||"unknown error"}`));return}t.next({type:u.type,id:u.lastEventId,...d.data?{data:d.data}:{}})}r.addEventListener("error",i),n&&r.addEventListener("open",o);const c=[...new Set([...Qn,...e])].filter(u=>u!=="error"&&u!=="open"&&u!=="reconnect");return c.forEach(u=>r.addEventListener(u,a)),()=>{r.removeEventListener("error",i),n&&r.removeEventListener("open",o),c.forEach(u=>r.removeEventListener(u,a)),r.close()}})}function Xe(r){try{const e=typeof r.data=="string"&&JSON.parse(r.data);return[null,{type:r.type,id:r.lastEventId,...Xn(e)?{}:{data:e}}]}catch(e){return[e,null]}}function Jn(r,e){const t=r.error;return t?$t(t)?At(t,e):t.description?t.description:typeof t=="string"?t:JSON.stringify(t,null,2):r.message||"Unknown listener error"}function Xn(r){for(const e in r)return!1;return!0}function Pt(r){if(typeof r=="string")return{id:r};if(Array.isArray(r))return{query:"*[_id in $ids]",params:{ids:r}};if(typeof r=="object"&&r!==null&&"query"in r&&typeof r.query=="string")return"params"in r&&typeof r.params=="object"&&r.params!==null?{query:r.query,params:r.params}:{query:r.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class Ft{selection;operations;constructor(e,t={}){this.selection=e,this.operations=t}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return z("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,t,n){return Rn(e,t,n),this._assign("insert",{[e]:t,items:n})}append(e,t){return this.insert("after",`${e}[-1]`,t)}prepend(e,t){return this.insert("before",`${e}[0]`,t)}splice(e,t,n,s){const i=typeof n>"u"||n===-1,o=t<0?t-1:t,a=i?-1:Math.max(0,t+n),c=o<0&&a>=0?"":a,u=`${e}[${o}:${c}]`;return this.insert("replace",u,s||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...Pt(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,t,n=!0){return z(e,t),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},t)}),this}_set(e,t){return this._assign(e,t,!1)}}class R extends Ft{#e;constructor(e,t,n){super(e,t),this.#e=n}clone(){return new R(this.selection,{...this.operations},this.#e)}commit(e){if(!this.#e)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const t=typeof this.selection=="string",n=Object.assign({returnFirst:t,returnDocuments:!0},e);return this.#e.mutate({patch:this.serialize()},n)}}class O extends Ft{#e;constructor(e,t,n){super(e,t),this.#e=n}clone(){return new O(this.selection,{...this.operations},this.#e)}commit(e){if(!this.#e)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const t=typeof this.selection=="string",n=Object.assign({returnFirst:t,returnDocuments:!0},e);return this.#e.mutate({patch:this.serialize()},n)}}const Dt={returnDocuments:!1};class Mt{operations;trxId;constructor(e=[],t){this.operations=e,this.trxId=t}create(e){return z("create",e),this._add({create:e})}createIfNotExists(e){const t="createIfNotExists";return z(t,e),L(t,e),this._add({[t]:e})}createOrReplace(e){const t="createOrReplace";return z(t,e),L(t,e),this._add({[t]:e})}delete(e){return _t("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}class ue extends Mt{#e;constructor(e,t,n){super(e,n),this.#e=t}clone(){return new ue([...this.operations],this.#e,this.trxId)}commit(e){if(!this.#e)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#e.mutate(this.serialize(),Object.assign({transactionId:this.trxId},Dt,e||{}))}patch(e,t){const n=typeof t=="function",s=typeof e!="string"&&e instanceof O,i=typeof e=="object"&&("query"in e||"id"in e);if(s)return this._add({patch:e.serialize()});if(n){const o=t(new O(e,{},this.#e));if(!(o instanceof O))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}if(i){const o=new O(e,t||{},this.#e);return this._add({patch:o.serialize()})}return this._add({patch:{id:e,...t}})}}class le extends Mt{#e;constructor(e,t,n){super(e,n),this.#e=t}clone(){return new le([...this.operations],this.#e,this.trxId)}commit(e){if(!this.#e)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#e.mutate(this.serialize(),Object.assign({transactionId:this.trxId},Dt,e||{}))}patch(e,t){const n=typeof t=="function";if(typeof e!="string"&&e instanceof R)return this._add({patch:e.serialize()});if(n){const s=t(new R(e,{},this.#e));if(!(s instanceof R))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:s.serialize()})}return this._add({patch:{id:e,...t}})}}const Yn="X-Sanity-Project-ID";function Zn(r,e={}){const t={};r.headers&&Object.assign(t,r.headers);const n=e.token||r.token;n&&(t.Authorization=`Bearer ${n}`),!e.useGlobalApi&&!r.useProjectHostname&&r.projectId&&(t[Yn]=r.projectId);const s=!!(typeof e.withCredentials>"u"?r.withCredentials:e.withCredentials),i=typeof e.timeout>"u"?r.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},t,e.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:e.proxy||r.proxy,json:!0,withCredentials:s,fetch:typeof e.fetch=="object"&&typeof r.fetch=="object"?{...r.fetch,...e.fetch}:e.fetch||r.fetch})}const kt=({query:r,params:e={},options:t={}})=>{const n=new URLSearchParams,{tag:s,includeMutations:i,returnQuery:o,...a}=t;s&&n.append("tag",s),n.append("query",r);for(const[c,u]of Object.entries(e))u!==void 0&&n.append(`$${c}`,JSON.stringify(u));for(const[c,u]of Object.entries(a))u&&n.append(c,`${u}`);return o===!1&&n.append("returnQuery","false"),i===!1&&n.append("includeMutations","false"),`?${n}`},Kn=(r,e)=>r===!1?void 0:typeof r>"u"?e:r,es=(r={})=>({dryRun:r.dryRun,returnIds:!0,returnDocuments:Kn(r.returnDocuments,!0),visibility:r.visibility||"sync",autoGenerateArrayKeys:r.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:r.skipCrossDatasetReferenceValidation}),xe=r=>r.type==="response",ts=r=>r.body,rs=(r,e)=>r.reduce((t,n)=>(t[e(n)]=n,t),Object.create(null)),ns=11264;function Lt(r,e,t,n,s={},i={}){const o="stega"in i?{...t||{},...typeof i.stega=="boolean"?{enabled:i.stega}:i.stega||{}}:t,a=o.enabled?an(s):s,c=i.filterResponse===!1?p=>p:p=>p.result,{cache:u,next:h,...d}={useAbortSignal:typeof i.signal<"u",resultSourceMap:o.enabled?"withKeyArraySelector":i.resultSourceMap,...i,returnQuery:i.filterResponse===!1&&i.returnQuery!==!1},y=typeof u<"u"||typeof h<"u"?{...d,fetch:{cache:u,next:h}}:d,f=P(r,e,"query",{query:n,params:a},y);return o.enabled?f.pipe(jr(ne(rt(()=>import("./stegaEncodeSourceMap-C1sSoLVV.js"),__vite__mapDeps([0,1,2])).then(function(p){return p.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:p})=>p))),$(([p,l])=>{const g=l(p.result,p.resultSourceMap,o);return c({...p,result:g})})):f.pipe($(c))}function he(r,e,t,n={}){const s=(()=>{if(!n.releaseId)return t;const o=Ct(t);if(!o){if(ie(t))throw new Error(`The document ID (\`${t}\`) is a draft, but \`options.releaseId\` is set as \`${n.releaseId}\``);return ae(t,n.releaseId)}if(o!==n.releaseId)throw new Error(`The document ID (\`${t}\`) is already a version of \`${o}\` release, but this does not match the provided \`options.releaseId\` (\`${n.releaseId}\`)`);return t})(),i={uri:x(r,"doc",s),json:!0,tag:n.tag,signal:n.signal};return J(r,e,i).pipe(U(xe),$(o=>o.body.documents&&o.body.documents[0]))}function Vt(r,e,t,n={}){const s={uri:x(r,"doc",t.join(",")),json:!0,tag:n.tag,signal:n.signal};return J(r,e,s).pipe(U(xe),$(i=>{const o=rs(i.body.documents||[],a=>a._id);return t.map(a=>o[a]||null)}))}function Ut(r,e,t,n={}){return P(r,e,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:t}},n)}function Nt(r,e,t,n){return L("createIfNotExists",t),de(r,e,t,"createIfNotExists",n)}function zt(r,e,t,n){return L("createOrReplace",t),de(r,e,t,"createOrReplace",n)}function Bt(r,e,t,n,s){return L("createVersion",t),xt("createVersion",t),E(r,e,{actionType:"sanity.action.document.version.create",publishedId:n,document:t},s)}function Ht(r,e,t,n){return P(r,e,"mutate",{mutations:[{delete:Pt(t)}]},n)}function Wt(r,e,t,n=!1,s){return E(r,e,{actionType:"sanity.action.document.version.discard",versionId:t,purge:n},s)}function Qt(r,e,t,n){return L("replaceVersion",t),xt("replaceVersion",t),E(r,e,{actionType:"sanity.action.document.version.replace",document:t},n)}function Gt(r,e,t,n,s){return E(r,e,{actionType:"sanity.action.document.version.unpublish",versionId:t,publishedId:n},s)}function Jt(r,e,t,n){let s;t instanceof O||t instanceof R?s={patch:t.serialize()}:t instanceof ue||t instanceof le?s=t.serialize():s=t;const i=Array.isArray(s)?s:[s],o=n&&n.transactionId||void 0;return P(r,e,"mutate",{mutations:i,transactionId:o},n)}function E(r,e,t,n){const s=Array.isArray(t)?t:[t],i=n&&n.transactionId||void 0,o=n&&n.skipCrossDatasetReferenceValidation||void 0,a=n&&n.dryRun||void 0;return P(r,e,"actions",{actions:s,transactionId:i,skipCrossDatasetReferenceValidation:o,dryRun:a},n)}function P(r,e,t,n,s={}){const i=t==="mutate",o=t==="actions",a=t==="query",c=i||o?"":kt(n),u=!i&&!o&&c.length<ns,h=u?c:"",d=s.returnFirst,{timeout:y,token:f,tag:p,headers:l,returnQuery:g,lastLiveEventId:b,cacheMode:m}=s,w=x(r,t,h),C={method:u?"GET":"POST",uri:w,json:!0,body:u?void 0:n,query:i&&es(s),timeout:y,headers:l,token:f,tag:p,returnQuery:g,perspective:s.perspective,resultSourceMap:s.resultSourceMap,lastLiveEventId:Array.isArray(b)?b[0]:b,cacheMode:m,canUseCdn:a,signal:s.signal,fetch:s.fetch,useAbortSignal:s.useAbortSignal,useCdn:s.useCdn};return J(r,e,C).pipe(U(xe),$(ts),$(I=>{if(!i)return I;const _=I.results||[];if(s.returnDocuments)return d?_[0]&&_[0].document:_.map(fe=>fe.document);const or=d?"documentId":"documentIds",ar=d?_[0]&&_[0].id:_.map(fe=>fe.id);return{transactionId:I.transactionId,results:_,[or]:ar}}))}function de(r,e,t,n,s={}){const i={[n]:t},o=Object.assign({returnFirst:!0,returnDocuments:!0},s);return P(r,e,"mutate",{mutations:[i]},o)}const G=r=>r.config().dataset!==void 0&&r.config().projectId!==void 0||r.config()["~experimental_resource"]!==void 0,Xt=(r,e)=>G(r)&&e.startsWith(x(r,"query")),ss=(r,e)=>G(r)&&e.startsWith(x(r,"mutate")),is=(r,e)=>G(r)&&e.startsWith(x(r,"doc","")),os=(r,e)=>G(r)&&e.startsWith(x(r,"listen")),as=(r,e)=>G(r)&&e.startsWith(x(r,"history","")),cs=(r,e)=>e.startsWith("/data/")||Xt(r,e)||ss(r,e)||is(r,e)||os(r,e)||as(r,e);function J(r,e,t){const n=t.url||t.uri,s=r.config(),i=typeof t.canUseCdn>"u"?["GET","HEAD"].indexOf(t.method||"GET")>=0&&cs(r,n):t.canUseCdn;let o=(t.useCdn??s.useCdn)&&i;const a=t.tag&&s.requestTagPrefix?[s.requestTagPrefix,t.tag].join("."):t.tag||s.requestTagPrefix;if(a&&t.tag!==null&&(t.query={tag:St(a),...t.query}),["GET","HEAD","POST"].indexOf(t.method||"GET")>=0&&Xt(r,n)){const h=t.resultSourceMap??s.resultSourceMap;h!==void 0&&h!==!1&&(t.query={resultSourceMap:h,...t.query});const d=t.perspective||s.perspective;typeof d<"u"&&(d==="previewDrafts"&&Dn(),Ot(d),t.query={perspective:Array.isArray(d)?d.join(","):d,...t.query},(Array.isArray(d)&&d.length>0||d==="previewDrafts"||d==="drafts")&&o&&(o=!1,Fn())),t.lastLiveEventId&&(t.query={...t.query,lastLiveEventId:t.lastLiveEventId}),t.returnQuery===!1&&(t.query={returnQuery:"false",...t.query}),o&&t.cacheMode=="noStale"&&(t.query={cacheMode:"noStale",...t.query})}const c=Zn(s,Object.assign({},t,{url:Se(r,n,o)})),u=new S(h=>e(c,s.requester).subscribe(h));return t.signal?u.pipe(us(t.signal)):u}function A(r,e,t){return J(r,e,t).pipe(U(n=>n.type==="response"),$(n=>n.body))}function x(r,e,t){const n=r.config();if(n["~experimental_resource"]){Tt(n);const o=ds(n),a=t!==void 0?`${e}/${t}`:e;return`${o}/${a}`.replace(/\/($|\?)/,"$1")}const s=j(n),i=`/${e}/${s}`;return`/data${t!==void 0?`${i}/${t}`:i}`.replace(/\/($|\?)/,"$1")}function Se(r,e,t=!1){const{url:n,cdnUrl:s}=r.config();return`${t?s:n}/${e.replace(/^\//,"")}`}function us(r){return e=>new S(t=>{const n=()=>t.error(hs(r));if(r&&r.aborted){n();return}const s=e.subscribe(t);return r.addEventListener("abort",n),()=>{r.removeEventListener("abort",n),s.unsubscribe()}})}const ls=!!globalThis.DOMException;function hs(r){if(ls)return new DOMException(r?.reason??"The operation was aborted.","AbortError");const e=new Error(r?.reason??"The operation was aborted.");return e.name="AbortError",e}const ds=r=>{if(!r["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:t}=r["~experimental_resource"];switch(e){case"dataset":{const n=t.split(".");if(n.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${n[0]}/datasets/${n[1]}`}case"canvas":return`/canvases/${t}`;case"media-library":return`/media-libraries/${t}`;case"dashboard":return`/dashboards/${t}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};function Yt(r,e,t){const n=j(r.config());return A(r,e,{method:"POST",uri:`/agent/action/generate/${n}`,body:t})}function fs(r,e,t){const n=j(r.config());return A(r,e,{method:"POST",uri:`/agent/action/patch/${n}`,body:t})}function ps(r,e,t){const n=j(r.config());return A(r,e,{method:"POST",uri:`/agent/action/prompt/${n}`,body:t})}function Zt(r,e,t){const n=j(r.config());return A(r,e,{method:"POST",uri:`/agent/action/transform/${n}`,body:t})}function Kt(r,e,t){const n=j(r.config());return A(r,e,{method:"POST",uri:`/agent/action/translate/${n}`,body:t})}class ys{#e;#t;constructor(e,t){this.#e=e,this.#t=t}generate(e){return Yt(this.#e,this.#t,e)}transform(e){return Zt(this.#e,this.#t,e)}translate(e){return Kt(this.#e,this.#t,e)}}class gs{#e;#t;constructor(e,t){this.#e=e,this.#t=t}generate(e){return v(Yt(this.#e,this.#t,e))}transform(e){return v(Zt(this.#e,this.#t,e))}translate(e){return v(Kt(this.#e,this.#t,e))}prompt(e){return v(ps(this.#e,this.#t,e))}patch(e){return v(fs(this.#e,this.#t,e))}}class ms{#e;#t;constructor(e,t){this.#e=e,this.#t=t}upload(e,t,n){return er(this.#e,this.#t,e,t,n)}}class ws{#e;#t;constructor(e,t){this.#e=e,this.#t=t}upload(e,t,n){const s=er(this.#e,this.#t,e,t,n);return v(s.pipe(U(i=>i.type==="response"),$(i=>i.body.document)))}}function er(r,e,t,n,s={}){Sn(t);let i=s.extract||void 0;i&&!i.length&&(i=["none"]);const o=r.config(),a=bs(s,n),{tag:c,label:u,title:h,description:d,creditLine:y,filename:f,source:p}=a,l={label:u,title:h,description:d,filename:f,meta:i,creditLine:y};return p&&(l.sourceId=p.id,l.sourceName=p.name,l.sourceUrl=p.url),J(r,e,{tag:c,method:"POST",timeout:a.timeout||0,uri:vs(o,t),headers:a.contentType?{"Content-Type":a.contentType}:{},query:l,body:n})}function vs(r,e){const t=e==="image"?"images":"files";if(r["~experimental_resource"]){const{type:s,id:i}=r["~experimental_resource"];switch(s){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${i}/assets/${t}`;case"media-library":return`/media-libraries/${i}/upload`;case"dashboard":return`/dashboards/${i}/assets/${t}`;default:throw new Error(`Unsupported resource type: ${s.toString()}`)}}const n=j(r);return`assets/${t}/${n}`}function bs(r,e){return typeof File>"u"||!(e instanceof File)?r:Object.assign({filename:r.preserveFilename===!1?void 0:e.name,contentType:e.type},r)}var Cs=(r,e)=>Object.keys(e).concat(Object.keys(r)).reduce((t,n)=>(t[n]=typeof r[n]>"u"?e[n]:r[n],t),{});const Es=(r,e)=>e.reduce((t,n)=>(typeof r[n]>"u"||(t[n]=r[n]),t),{}),tr=ct(()=>rt(()=>import("./browser-DgH9XFLc.js").then(r=>r.b),__vite__mapDeps([3,1,2]))).pipe($(({default:r})=>r),qr(1));function rr(){return function(r){return r.pipe(tt((e,t)=>e instanceof jt?at(se({type:"reconnect"}),Sr(1e3).pipe(Q(()=>t))):st(()=>e)))}}const $s=14800,As=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],Is={includeResult:!0};function nr(r,e,t={}){const{url:n,token:s,withCredentials:i,requestTagPrefix:o,headers:a}=this.config(),c=t.tag&&o?[o,t.tag].join("."):t.tag,u={...Cs(t,Is),tag:c},h=Es(u,As),d=kt({query:r,params:e,options:{tag:c,...h}}),y=`${n}${x(this,"listen",d)}`;if(y.length>$s)return st(()=>new Error("Query too large for listener"));const f=u.events?u.events:["mutation"],p={};return i&&(p.withCredentials=!0),(s||a)&&(p.headers={},s&&(p.headers.Authorization=`Bearer ${s}`),a&&Object.assign(p.headers,a)),qt(()=>(typeof EventSource>"u"||p.headers?tr:se(EventSource)).pipe($(l=>new l(y,p))),f).pipe(rr(),U(l=>f.includes(l.type)),$(l=>({type:l.type,..."data"in l?l.data:{}})))}function _s(r,e){return xs(typeof r=="function"?{predicate:r,...e}:r)}function xs(r){return e=>{let t,n=!1;const{predicate:s,...i}=r,o=e.pipe(Pr(c=>{r.predicate(c)&&(n=!0,t=c)}),lt(()=>{n=!1,t=void 0}),ht(i)),a=new S(c=>{n&&c.next(t),c.complete()});return Tr(o,a)}}const Ye="2021-03-25";class sr{#e;constructor(e){this.#e=e}events({includeDrafts:e=!1,tag:t}={}){T("live",this.#e.config());const{projectId:n,apiVersion:s,token:i,withCredentials:o,requestTagPrefix:a,headers:c}=this.#e.config(),u=s.replace(/^v/,"");if(u!=="X"&&u<Ye)throw new Error(`The live events API requires API version ${Ye} or later. The current API version is ${u}. Please update your API version to use this feature.`);if(e&&!i&&!o)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const h=x(this.#e,"live/events"),d=new URL(this.#e.getUrl(h,!1)),y=t&&a?[a,t].join("."):t;y&&d.searchParams.set("tag",y),e&&d.searchParams.set("includeDrafts","true");const f={};e&&o&&(f.withCredentials=!0),(e&&i||c)&&(f.headers={},e&&i&&(f.headers.Authorization=`Bearer ${i}`),c&&Object.assign(f.headers,c));const p=`${d.href}::${JSON.stringify(f)}`,l=we.get(p);if(l)return l;const g=qt(()=>(typeof EventSource>"u"||f.headers?tr:se(EventSource)).pipe($(w=>new w(d.href,f))),["message","restart","welcome","reconnect","goaway"]).pipe(rr(),$(w=>{if(w.type==="message"){const{data:C,...I}=w;return{...I,tags:C.tags}}return w})),b=Ss(d,{method:"OPTIONS",mode:"cors",credentials:f.withCredentials?"include":"omit",headers:f.headers}).pipe(Q(()=>nt),tt(()=>{throw new En({projectId:n})})),m=at(b,g).pipe(lt(()=>we.delete(p)),_s({predicate:w=>w.type==="welcome"}));return we.set(p,m),m}}function Ss(r,e){return new S(t=>{const n=new AbortController,s=n.signal;return fetch(r,{...e,signal:n.signal}).then(i=>{t.next(i),t.complete()},i=>{s.aborted||t.error(i)}),()=>n.abort()})}const we=new Map;class Ts{#e;#t;constructor(e,t){this.#e=e,this.#t=t}create(e,t){return F(this.#e,this.#t,"PUT",e,t)}edit(e,t){return F(this.#e,this.#t,"PATCH",e,t)}delete(e){return F(this.#e,this.#t,"DELETE",e)}list(){return A(this.#e,this.#t,{uri:"/datasets",tag:null})}}class Os{#e;#t;constructor(e,t){this.#e=e,this.#t=t}create(e,t){return T("dataset",this.#e.config()),v(F(this.#e,this.#t,"PUT",e,t))}edit(e,t){return T("dataset",this.#e.config()),v(F(this.#e,this.#t,"PATCH",e,t))}delete(e){return T("dataset",this.#e.config()),v(F(this.#e,this.#t,"DELETE",e))}list(){return T("dataset",this.#e.config()),v(A(this.#e,this.#t,{uri:"/datasets",tag:null}))}}function F(r,e,t,n,s){return T("dataset",r.config()),It(n),A(r,e,{method:t,uri:`/datasets/${n}`,body:s,tag:null})}class Rs{#e;#t;constructor(e,t){this.#e=e,this.#t=t}list(e){T("projects",this.#e.config());const t=e?.includeMembers===!1?"/projects?includeMembers=false":"/projects";return A(this.#e,this.#t,{uri:t})}getById(e){return T("projects",this.#e.config()),A(this.#e,this.#t,{uri:`/projects/${e}`})}}class js{#e;#t;constructor(e,t){this.#e=e,this.#t=t}list(e){T("projects",this.#e.config());const t=e?.includeMembers===!1?"/projects?includeMembers=false":"/projects";return v(A(this.#e,this.#t,{uri:t}))}getById(e){return T("projects",this.#e.config()),v(A(this.#e,this.#t,{uri:`/projects/${e}`}))}}const Ze=fn("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),Z=(r,e)=>e?ae(r,e):ln(r);function K(r,{releaseId:e,publishedId:t,document:n}){if(t&&n._id){const s=Z(t,e);return On(s,n),s}if(n._id){const s=ie(n._id),i=oe(n._id);if(!s&&!i)throw new Error(`\`${r}()\` requires a document with an \`_id\` that is a version or draft ID`);if(e){if(s)throw new Error(`\`${r}()\` was called with a document ID (\`${n._id}\`) that is a draft ID, but a release ID (\`${e}\`) was also provided.`);const o=Ct(n._id);if(o!==e)throw new Error(`\`${r}()\` was called with a document ID (\`${n._id}\`) that is a version ID, but the release ID (\`${e}\`) does not match the document's version ID (\`${o}\`).`)}return n._id}if(t)return Z(t,e);throw new Error(`\`${r}()\` requires either a publishedId or a document with an \`_id\``)}const qs=(r,e)=>{if(typeof r=="object"&&r!==null&&("releaseId"in r||"metadata"in r)){const{releaseId:t=Ze(),metadata:n={}}=r;return[t,n,e]}return[Ze(),{},r]},ir=(r,e)=>{const[t,n,s]=qs(r,e),i={...n,releaseType:n.releaseType||"undecided"};return{action:{actionType:"sanity.action.release.create",releaseId:t,metadata:i},options:s}};class Ps{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get({releaseId:e},t){return he(this.#e,this.#t,`_.releases.${e}`,t)}create(e,t){const{action:n,options:s}=ir(e,t),{releaseId:i,metadata:o}=n;return E(this.#e,this.#t,n,s).pipe($(a=>({...a,releaseId:i,metadata:o})))}edit({releaseId:e,patch:t},n){const s={actionType:"sanity.action.release.edit",releaseId:e,patch:t};return E(this.#e,this.#t,s,n)}publish({releaseId:e},t){const n={actionType:"sanity.action.release.publish",releaseId:e};return E(this.#e,this.#t,n,t)}archive({releaseId:e},t){const n={actionType:"sanity.action.release.archive",releaseId:e};return E(this.#e,this.#t,n,t)}unarchive({releaseId:e},t){const n={actionType:"sanity.action.release.unarchive",releaseId:e};return E(this.#e,this.#t,n,t)}schedule({releaseId:e,publishAt:t},n){const s={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t};return E(this.#e,this.#t,s,n)}unschedule({releaseId:e},t){const n={actionType:"sanity.action.release.unschedule",releaseId:e};return E(this.#e,this.#t,n,t)}delete({releaseId:e},t){const n={actionType:"sanity.action.release.delete",releaseId:e};return E(this.#e,this.#t,n,t)}fetchDocuments({releaseId:e},t){return Ut(this.#e,this.#t,e,t)}}class Fs{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get({releaseId:e},t){return v(he(this.#e,this.#t,`_.releases.${e}`,t))}async create(e,t){const{action:n,options:s}=ir(e,t),{releaseId:i,metadata:o}=n;return{...await v(E(this.#e,this.#t,n,s)),releaseId:i,metadata:o}}edit({releaseId:e,patch:t},n){const s={actionType:"sanity.action.release.edit",releaseId:e,patch:t};return v(E(this.#e,this.#t,s,n))}publish({releaseId:e},t){const n={actionType:"sanity.action.release.publish",releaseId:e};return v(E(this.#e,this.#t,n,t))}archive({releaseId:e},t){const n={actionType:"sanity.action.release.archive",releaseId:e};return v(E(this.#e,this.#t,n,t))}unarchive({releaseId:e},t){const n={actionType:"sanity.action.release.unarchive",releaseId:e};return v(E(this.#e,this.#t,n,t))}schedule({releaseId:e,publishAt:t},n){const s={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t};return v(E(this.#e,this.#t,s,n))}unschedule({releaseId:e},t){const n={actionType:"sanity.action.release.unschedule",releaseId:e};return v(E(this.#e,this.#t,n,t))}delete({releaseId:e},t){const n={actionType:"sanity.action.release.delete",releaseId:e};return v(E(this.#e,this.#t,n,t))}fetchDocuments({releaseId:e},t){return v(Ut(this.#e,this.#t,e,t))}}class Ds{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getById(e){return A(this.#e,this.#t,{uri:`/users/${e}`})}}class Ms{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getById(e){return v(A(this.#e,this.#t,{uri:`/users/${e}`}))}}class ee{assets;datasets;live;projects;users;agent;releases;#e;#t;listen=nr;constructor(e,t=B){this.config(t),this.#t=e,this.assets=new ms(this,this.#t),this.datasets=new Ts(this,this.#t),this.live=new sr(this),this.projects=new Rs(this,this.#t),this.users=new Ds(this,this.#t),this.agent={action:new ys(this,this.#t)},this.releases=new Ps(this,this.#t)}clone(){return new ee(this.#t,this.config())}config(e){if(e===void 0)return{...this.#e};if(this.#e&&this.#e.allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.#e=Rt(e,this.#e||{}),this}withConfig(e){const t=this.config();return new ee(this.#t,{...t,...e,stega:{...t.stega||{},...typeof e?.stega=="boolean"?{enabled:e.stega}:e?.stega||{}}})}fetch(e,t,n){return Lt(this,this.#t,this.#e.stega,e,t,n)}getDocument(e,t){return he(this,this.#t,e,t)}getDocuments(e,t){return Vt(this,this.#t,e,t)}create(e,t){return de(this,this.#t,e,"create",t)}createIfNotExists(e,t){return Nt(this,this.#t,e,t)}createOrReplace(e,t){return zt(this,this.#t,e,t)}createVersion({document:e,publishedId:t,releaseId:n},s){const i=K("createVersion",{document:e,publishedId:t,releaseId:n}),o={...e,_id:i},a=t||ce(e._id);return Bt(this,this.#t,o,a,s)}delete(e,t){return Ht(this,this.#t,e,t)}discardVersion({releaseId:e,publishedId:t},n,s){const i=Z(t,e);return Wt(this,this.#t,i,n,s)}replaceVersion({document:e,publishedId:t,releaseId:n},s){const i=K("replaceVersion",{document:e,publishedId:t,releaseId:n}),o={...e,_id:i};return Qt(this,this.#t,o,s)}unpublishVersion({releaseId:e,publishedId:t},n){const s=ae(t,e);return Gt(this,this.#t,s,t,n)}mutate(e,t){return Jt(this,this.#t,e,t)}patch(e,t){return new R(e,t,this)}transaction(e){return new le(e,this)}action(e,t){return E(this,this.#t,e,t)}request(e){return A(this,this.#t,e)}getUrl(e,t){return Se(this,e,t)}getDataUrl(e,t){return x(this,e,t)}}class te{assets;datasets;live;projects;users;agent;releases;observable;#e;#t;listen=nr;constructor(e,t=B){this.config(t),this.#t=e,this.assets=new ws(this,this.#t),this.datasets=new Os(this,this.#t),this.live=new sr(this),this.projects=new js(this,this.#t),this.users=new Ms(this,this.#t),this.agent={action:new gs(this,this.#t)},this.releases=new Fs(this,this.#t),this.observable=new ee(e,t)}clone(){return new te(this.#t,this.config())}config(e){if(e===void 0)return{...this.#e};if(this.#e&&this.#e.allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),this.#e=Rt(e,this.#e||{}),this}withConfig(e){const t=this.config();return new te(this.#t,{...t,...e,stega:{...t.stega||{},...typeof e?.stega=="boolean"?{enabled:e.stega}:e?.stega||{}}})}fetch(e,t,n){return v(Lt(this,this.#t,this.#e.stega,e,t,n))}getDocument(e,t){return v(he(this,this.#t,e,t))}getDocuments(e,t){return v(Vt(this,this.#t,e,t))}create(e,t){return v(de(this,this.#t,e,"create",t))}createIfNotExists(e,t){return v(Nt(this,this.#t,e,t))}createOrReplace(e,t){return v(zt(this,this.#t,e,t))}createVersion({document:e,publishedId:t,releaseId:n},s){const i=K("createVersion",{document:e,publishedId:t,releaseId:n}),o={...e,_id:i},a=t||ce(e._id);return Re(Bt(this,this.#t,o,a,s))}delete(e,t){return v(Ht(this,this.#t,e,t))}discardVersion({releaseId:e,publishedId:t},n,s){const i=Z(t,e);return v(Wt(this,this.#t,i,n,s))}replaceVersion({document:e,publishedId:t,releaseId:n},s){const i=K("replaceVersion",{document:e,publishedId:t,releaseId:n}),o={...e,_id:i};return Re(Qt(this,this.#t,o,s))}unpublishVersion({releaseId:e,publishedId:t},n){const s=ae(t,e);return v(Gt(this,this.#t,s,t,n))}mutate(e,t){return v(Jt(this,this.#t,e,t))}patch(e,t){return new O(e,t,this)}transaction(e){return new ue(e,this)}action(e,t){return v(E(this,this.#t,e,t))}request(e){return v(A(this,this.#t,e))}dataRequest(e,t,n){return v(P(this,this.#t,e,t,n))}getUrl(e,t){return Se(this,e,t)}getDataUrl(e,t){return x(this,e,t)}}function ks(r,e){return{requester:We(r),createClient:t=>{const n=We(r);return new e((s,i)=>(i||n)({maxRedirects:0,maxRetries:t.maxRetries,retryDelay:t.retryDelay,...s}),t)}}}var Ls=[];const Vs=ks(Ls,te),Us=Vs.createClient,Ws=Us({projectId:"rx2zpelx",dataset:"content",useCdn:!0,apiVersion:"2023-05-03"});export{Hs as C,wt as i,Ws as s};
