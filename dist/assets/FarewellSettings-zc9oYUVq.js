import{F as C,y as _,r as n,R as e}from"./index-CfyrB-Jf.js";import{S as A}from"./StandardLayout-COLC9qI8.js";import{F as k}from"./FormBox-B6bUczmp.js";import{T as g}from"./TextInput-CYEPzTM5.js";import{P as w}from"./PrimaryButton-BvMykqgP.js";/* empty css             */import"./PageWrapper-CEQC3pGQ.js";import"./Footer-BDbKV7Ex.js";import"./TextInput-ChRIhU7X.js";const Y=()=>{const{user:l,updateUserProfile:h,deleteAccount:y}=C(),N=_(),[o,m]=n.useState(""),[i,u]=n.useState(""),[c,d]=n.useState(!0),[t,s]=n.useState(!1),[f,r]=n.useState(""),[p,b]=n.useState(!1);n.useEffect(()=>{l&&(m(l.displayName||""),u(l.email||""),d(l.subscribed!==!1))},[l]);const v=async a=>{a.preventDefault(),s(!0),r("");try{await h({displayName:o,email:i,subscribed:c}),r("Profile updated successfully!")}catch(S){r(`Error updating profile: ${S.message}`)}finally{s(!1)}},E=async()=>{if(!p){b(!0);return}s(!0);try{await y(),N("/")}catch(a){r(`Error deleting account: ${a.message}`),s(!1)}};return e.createElement(A,{title:"Account Settings",subtitle:"Manage your profile and account preferences"},e.createElement(k,null,e.createElement("form",{onSubmit:v,className:"auth-form"},e.createElement("h2",null,"Personal Information"),e.createElement(g,{id:"name",name:"name",label:"Full Name",placeholder:"Your full name",value:o,onChange:a=>m(a.target.value),disabled:t,containerClassName:"auth-form__input-field"}),e.createElement(g,{id:"email",name:"email",type:"email",label:"Email Address",placeholder:"Your email address",value:i,onChange:a=>u(a.target.value),disabled:t,containerClassName:"auth-form__input-field"}),e.createElement("div",{className:"preference-toggle"},e.createElement("label",{className:"checkbox-container"},e.createElement("input",{type:"checkbox",checked:c,onChange:()=>d(!c),disabled:t}),e.createElement("span",{className:"checkmark"}),"Receive updates and notifications"),e.createElement("p",{className:"preference-description"},"We'll send you important updates about your account and farewell planning.")),f&&e.createElement("p",{className:"auth-form__message",role:"alert"},f),e.createElement("div",{className:"auth-form__button-container"},e.createElement(w,{type:"submit",disabled:t,className:"auth-form__submit-button"},t?"Saving...":"Save Changes"))),e.createElement("div",{className:"danger-zone"},e.createElement("h2",null,"Delete Account"),e.createElement("p",null,"This action is permanent and cannot be undone. All your personal information and farewell plans will be permanently removed."),p?e.createElement("div",{className:"delete-confirmation"},e.createElement("p",null,"Are you sure you want to delete your account?"),e.createElement("div",{className:"delete-actions"},e.createElement("button",{className:"delete-confirm-btn",onClick:E,disabled:t},t?"Deleting...":"Yes, Delete My Account"),e.createElement("button",{className:"delete-cancel-btn",onClick:()=>b(!1),disabled:t},"Cancel"))):e.createElement("button",{className:"delete-account-btn",onClick:E,disabled:t},"Delete My Account"))))};export{Y as default};
