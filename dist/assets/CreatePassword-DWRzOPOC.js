import{r as n,y as S,R as e,B as v,C as h}from"./index-DCjRC1Qh.js";import{S as w}from"./StandardLayout-CAIt2dnZ.js";import{F as P}from"./FormBox-DkndR2MF.js";import{T as i}from"./TextInput-DcKmZHw-.js";import{P as C}from"./PrimaryButton-ll28UtQI.js";/* empty css                        */import"./PageWrapper-DCjSe1-g.js";import"./Footer-CTZCKbD-.js";import"./TextInput-Q71VnVtp.js";const R=()=>{const[r,d]=n.useState(()=>localStorage.getItem("email")||""),[s,p]=n.useState(""),[m,g]=n.useState(""),[c,t]=n.useState(""),[u,o]=n.useState(!1),f=S(),y=async a=>{if(a.preventDefault(),t(""),o(!0),!r){t("Email is required"),o(!1);return}if(s.length<8){t("Password must be at least 8 characters"),o(!1);return}if(s!==m){t("Passwords do not match"),o(!1);return}try{const{isSignUpComplete:l}=await v({username:r,password:s,attributes:{email:r}});if(l){await new Promise(b=>setTimeout(b,1500));const{isSignedIn:E}=await h(r,s);E?(localStorage.removeItem("email"),f("/welcome")):t("Sign in failed after registration. Please try logging in.")}else t("Sign up incomplete. Please try again.")}catch(l){console.error("Sign up error:",l),t(l.message||"Registration failed. Please try again.")}finally{o(!1)}};return e.createElement(w,{title:e.createElement(e.Fragment,null,e.createElement("h2",{className:"h1sub pre-title-subtitle"},"Create your account"),e.createElement("span",{className:"h1"},"Set your ",e.createElement("span",{className:"h1b"},"email")," and ",e.createElement("span",{className:"h1b"},"password")," to complete registration."))},e.createElement("div",{className:"onboarding-form-content"},e.createElement(P,{className:"onboarding-formbox"},e.createElement("form",{className:"standard-form",onSubmit:y,noValidate:!0},e.createElement(i,{label:"Email Address",value:r,onChange:a=>{d(a.target.value),localStorage.setItem("email",a.target.value)},type:"email",required:!0,autoFocus:!0}),e.createElement(i,{label:"Create Password",value:s,onChange:a=>p(a.target.value),type:"password",placeholder:"Create a secure password",required:!0,helperText:"Use at least 8 characters"}),e.createElement(i,{label:"Confirm Password",value:m,onChange:a=>g(a.target.value),type:"password",placeholder:"Confirm your password",required:!0}),c&&e.createElement("div",{className:"error-message"},c),e.createElement("div",{className:"onboarding-button-container"},e.createElement(C,{type:"submit",disabled:u},u?"Creating Account...":"Create Account")),e.createElement("p",{className:"privacy-text"},"By creating an account you are accepting our"," ",e.createElement("a",{href:"/terms",target:"_blank",rel:"noreferrer",className:"privacy-link"},"Terms of Service")," ","and"," ",e.createElement("a",{href:"/privacy",target:"_blank",rel:"noreferrer",className:"privacy-link"},"Privacy Policy"),".")))))};export{R as default};
